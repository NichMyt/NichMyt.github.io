<!DOCTYPE html>
<html lang="fr" dir="ltr" class="client-nojs">
<head>
<title>Ressource (sdata) - Wiki1000</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.18.6" />
<link rel="shortcut icon" href="https://frp.sage.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="Wiki1000 (fr)" />
<link rel="EditURI" type="application/rsd+xml" href="https://frp.sage.fr/wiki1000/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Flux Atom de Wiki1000" href="https://frp.sage.fr/wiki1000/index.php?title=Sp%C3%83%C2%A9cial:Modifications_r%C3%83%C2%A9centes&amp;feed=atom" />
<link rel="stylesheet" href="../load.php@debug=false&amp;lang=fr&amp;modules=mediawiki.legacy.commonPrint,shared%257Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;%252A.css" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../load.php@debug=false&amp;lang=fr&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;%252A.css" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: wiki1000dbtahoe-l1000_:resourceloader:filter:minify-css:4:c88e2bcd56513749bec09a7e29cb3ffa */
</style>
<script src="../load.php@debug=false&amp;lang=fr&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;%252A"></script>
<script>if(window.mw){
	mw.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Ressource_(sdata)", "wgTitle": "Ressource (sdata)", "wgCurRevisionId": 14102, "wgArticleId": 6159, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": ["SData"], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script><script>if(window.mw){
	mw.loader.load(["mediawiki.page.startup"]);
}
</script>
<style type="text/css">/*<![CDATA[*/
.source-delphi {line-height: normal;}
.source-delphi li, .source-delphi pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for delphi
 * CSS class: source-delphi, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.delphi.source-delphi .de1, .delphi.source-delphi .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.delphi.source-delphi  {font-family:monospace;}
.delphi.source-delphi .imp {font-weight: bold; color: red;}
.delphi.source-delphi li, .delphi.source-delphi .li1 {font-weight: normal; vertical-align:top;}
.delphi.source-delphi .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.delphi.source-delphi .li2 {font-weight: bold; vertical-align:top;}
.delphi.source-delphi .kw1 {color: #000000; font-weight: bold;}
.delphi.source-delphi .kw2 {color: #000000; font-weight: bold;}
.delphi.source-delphi .kw3 {color: #000066;}
.delphi.source-delphi .kw4 {color: #000066; font-weight: bold;}
.delphi.source-delphi .co1 {color: #808080; font-style: italic;}
.delphi.source-delphi .co2 {color: #008000; font-style: italic;}
.delphi.source-delphi .coMULTI {color: #808080; font-style: italic;}
.delphi.source-delphi .es0 {color: #ff0000; font-weight: bold;}
.delphi.source-delphi .br0 {color: #000066;}
.delphi.source-delphi .sy0 {color: #000066;}
.delphi.source-delphi .sy1 {color: #000066;}
.delphi.source-delphi .sy2 {color: #000066;}
.delphi.source-delphi .sy3 {color: #000066;}
.delphi.source-delphi .st0 {color: #ff0000;}
.delphi.source-delphi .nu0 {color: #0000ff;}
.delphi.source-delphi .me1 {color: #006600;}
.delphi.source-delphi .re0 {color: #9ac;}
.delphi.source-delphi .re1 {color: #ff0000;}
.delphi.source-delphi .ln-xtra, .delphi.source-delphi li.ln-xtra, .delphi.source-delphi div.ln-xtra {background-color: #ffc;}
.delphi.source-delphi span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "https://frp.sage.fr/wiki1000/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
/*]]>*/
</style></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Ressource_sdata action-view skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">Ressource (sdata)</h1>
	<div id="bodyContent">
		<div id="siteSub">De Wiki1000</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Aller à : <a href="Ressource_(sdata).html#column-one">Navigation</a>, <a href="Ressource_(sdata).html#searchInput">rechercher</a></div>
		<!-- start content -->
<div lang="fr" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Sommaire</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Ressource_(sdata).html#Pr.C3.A9requis"><span class="tocnumber">1</span> <span class="toctext">Prérequis</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Ressource_(sdata).html#S.C3.A9lection_de_version"><span class="tocnumber">2</span> <span class="toctext">Sélection de version</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Ressource_(sdata).html#Informations_de_version"><span class="tocnumber">3</span> <span class="toctext">Informations de version</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Ressource_(sdata).html#Ressource_.28GET.29"><span class="tocnumber">4</span> <span class="toctext">Ressource (GET)</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="Ressource_(sdata).html#S.C3.A9lecteur_de_ressource"><span class="tocnumber">4.1</span> <span class="toctext">Sélecteur de ressource</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="Ressource_(sdata).html#Code_de_retour_HTTP"><span class="tocnumber">4.2</span> <span class="toctext">Code de retour HTTP</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Ressource_(sdata).html#Gestion_des_r.C3.B4les_dans_les_ressources"><span class="tocnumber">4.3</span> <span class="toctext">Gestion des rôles dans les ressources</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="Ressource_(sdata).html#Gestion_du_p.C3.A9rim.C3.A8tre_soci.C3.A9t.C3.A9"><span class="tocnumber">4.4</span> <span class="toctext">Gestion du périmètre société</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="Ressource_(sdata).html#Requ.C3.AAte_sur_les_ressources_.28GET.29"><span class="tocnumber">5</span> <span class="toctext">Requête sur les ressources (GET)</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="Ressource_(sdata).html#Param.C3.A8tres_de_la_requ.C3.AAte"><span class="tocnumber">5.1</span> <span class="toctext">Paramètres de la requête</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="Ressource_(sdata).html#Select"><span class="tocnumber">5.1.1</span> <span class="toctext">Select</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="Ressource_(sdata).html#Dates_comptables"><span class="tocnumber">5.1.2</span> <span class="toctext">Dates comptables</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="Ressource_(sdata).html#Filtre"><span class="tocnumber">5.1.3</span> <span class="toctext">Filtre</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="Ressource_(sdata).html#Ordre_de_tri"><span class="tocnumber">5.1.4</span> <span class="toctext">Ordre de tri</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="Ressource_(sdata).html#Pagination_par_page"><span class="tocnumber">5.1.5</span> <span class="toctext">Pagination par page</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="Ressource_(sdata).html#Pagination_par_cl.C3.A9"><span class="tocnumber">5.1.6</span> <span class="toctext">Pagination par clé</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="Ressource_(sdata).html#Cr.C3.A9ation_de_ressource_.28POST.29"><span class="tocnumber">6</span> <span class="toctext">Création de ressource (POST)</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="Ressource_(sdata).html#Gestion_du_p.C3.A9rim.C3.A8tre_de_partage"><span class="tocnumber">6.1</span> <span class="toctext">Gestion du périmètre de partage</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="Ressource_(sdata).html#Gestion_des_r.C3.B4les"><span class="tocnumber">6.2</span> <span class="toctext">Gestion des rôles</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="Ressource_(sdata).html#Gestion_des_dates_comptables"><span class="tocnumber">6.3</span> <span class="toctext">Gestion des dates comptables</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="Ressource_(sdata).html#Modification_de_ressource_.28PUT.29"><span class="tocnumber">7</span> <span class="toctext">Modification de ressource (PUT)</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="Ressource_(sdata).html#Modification_de_r.C3.B4le_liste_composition"><span class="tocnumber">7.1</span> <span class="toctext">Modification de rôle liste composition</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="Ressource_(sdata).html#Modification_des_attributs_priv.C3.A9s"><span class="tocnumber">7.2</span> <span class="toctext">Modification des attributs privés</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="Ressource_(sdata).html#Suppression_de_ressource_.28DELETE.29"><span class="tocnumber">8</span> <span class="toctext">Suppression de ressource (DELETE)</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="Ressource_(sdata).html#Op.C3.A9ration_sur_une_ressource_.28POST.29"><span class="tocnumber">9</span> <span class="toctext">Opération sur une ressource (POST)</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="Ressource_(sdata).html#M.C3.A9thode_d.27instance_de_ressource"><span class="tocnumber">9.1</span> <span class="toctext">Méthode d'instance de ressource</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="Ressource_(sdata).html#M.C3.A9thode_de_classe_de_ressource.2C_ou_m.C3.A9thode_de_classe_non_persistante"><span class="tocnumber">9.2</span> <span class="toctext">Méthode de classe de ressource, ou méthode de classe non persistante</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="Ressource_(sdata).html#Passage_des_param.C3.A8tres"><span class="tocnumber">9.3</span> <span class="toctext">Passage des paramètres</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="Ressource_(sdata).html#R.C3.A9sultat_de_type_ressource"><span class="tocnumber">9.4</span> <span class="toctext">Résultat de type ressource</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="Ressource_(sdata).html#Initialisation_de_la_ressource"><span class="tocnumber">9.5</span> <span class="toctext">Initialisation de la ressource</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="Ressource_(sdata).html#Requ.C3.AAte_Batch_.28POST_.24batch.29"><span class="tocnumber">10</span> <span class="toctext">Requête Batch (POST $batch)</span></a>
<ul>
<li class="toclevel-2 tocsection-32"><a href="Ressource_(sdata).html#Gestion_de_la_transaction_dans_un_batch"><span class="tocnumber">10.1</span> <span class="toctext">Gestion de la transaction dans un batch</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="Ressource_(sdata).html#Execution_de_m.C3.A9thode_dans_un_batch"><span class="tocnumber">10.2</span> <span class="toctext">Execution de méthode dans un batch</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-34"><a href="Ressource_(sdata).html#Sch.C3.A9ma_d.27une_ressource_.28GET_.24schema.29"><span class="tocnumber">11</span> <span class="toctext">Schéma d'une ressource (GET $schema)</span></a></li>
<li class="toclevel-1 tocsection-35"><a href="Ressource_(sdata).html#Mod.C3.A8le_de_ressource_.28GET_.24template.29"><span class="tocnumber">12</span> <span class="toctext">Modèle de ressource (GET $template)</span></a></li>
</ul>
</td></tr></table>
<p><br />
</p>
<h2> <span class="mw-headline" id="Pr.C3.A9requis">Prérequis</span></h2>
<p>Les requêtes SData sont exécutées sur <a href="SData.html" title="SData">le point d'accès SData du service</a>.
</p><p>La forme simplifiée des urls est 
</p>
<pre>http://hostname/sdata/ressource?paramètres</pre>
<p>ou 
</p>
<pre>http://hostname/sdata/societe/ressource?paramètres</pre>
<p>Les requêtes sont authentifiées par un jeton d'authentification placé dans l'entête Authorization de la requêtes.
</p><p><a href="Gestion_des_jetons_d'authentification_(Administration).html" title="Gestion des jetons d'authentification (Administration)">Le jeton d'authentification peut être géré par le client dans l'administration.</a>
</p><p>Les requêtes doivent comporter les entêtes suivantes&#160;:
</p>
<table class="wikitable">

<tr>
<td>accept
</td>
<td>application/json
</td></tr>
<tr>
<td>Authorization
</td>
<td>Bearer token
</td></tr></table>
<p>Les url des requêtes doivent être encodées, par exemple&#160;:
</p>
<pre>https://.../sdata/Société 1/ttiers...</pre>
<p>doit être transmis encodé en
</p>
<pre>https://.../sdata.Soci%C3%A9t%C3%A9%201/ttiers....</pre>
<h2> <span class="mw-headline" id="S.C3.A9lection_de_version">Sélection de version</span></h2>
<p>Il es possible d'indiquer un numéro de version dans l'url de la requête.
</p><p>Placez le numéro de version derrière le préfix sdata&#160;:
</p>
<pre>
 https://.../sdata/1/....
</pre>
<p>En absence de numéro de version la dernière version sera utilisée.
</p>
<h2> <span class="mw-headline" id="Informations_de_version">Informations de version</span></h2>
<p>Utilisez la fonction $version pour retrouver les informations de version 
</p>
<pre>
GET http://localhost:8080/sdata/$version
{
    &quot;product&quot;: &quot;Sage FRP 1000&quot;,
    &quot;version&quot;: &quot;9.1.0.0&quot;,
    &quot;master&quot;: &quot;1.22&quot;,
    &quot;apiMajor&quot;: 1,
    &quot;apiMinor&quot;: 0,
    &quot;debug&quot;: true,
    &quot;shareEnable&quot;: true
}
</pre>
<pre>
GET https://localhost/sdata/$version?select=details
{
    &quot;product&quot;: &quot;Sage FRP 1000&quot;,
    &quot;version&quot;: &quot;9.1.0.0&quot;,
    &quot;master&quot;: &quot;1.22&quot;,
    &quot;apiMajor&quot;: 1,
    &quot;apiMinor&quot;: 1,
    &quot;debug&quot;: true,
    &quot;minors&quot;: [
        {
            &quot;minor&quot;: 1,
            &quot;details&quot;: [
                &quot;Fix $batch&#160;: Error in commit don't return message and continue execution&quot;,
                &quot;Fix time measure decimal format use . instead of local&quot;,
                &quot;Add extension information to $schema&quot;,
                &quot;Add operations to $schema&quot;,
                &quot;Add select options to $schema&quot;
            ]
        },
        {
            &quot;minor&quot;: 0,
            &quot;details&quot;: [
                &quot;Add version information&quot;
            ]
        }
    ]
}
</pre>
<p>Le paramètre select accepte les options suivantes&#160;:
</p>
<table class="wikitable">

<tr>
<th>option
</th>
<th>usage
</th></tr>
<tr>
<td>details
</td>
<td>Détails des modifications des versions mineurs
</td></tr>
<tr>
<td>patches
</td>
<td>Liste des patches installés
</td></tr></table>
<h2> <span class="mw-headline" id="Ressource_.28GET.29">Ressource (GET)</span></h2>
<p>Dans l'interface SData les ressources sont les objets de l'application.
</p><p>Une ressource est identifié par son uri qui représente le chemin de la ressource.
</p><p>L'uri est composé du chemin de la classe et d'un sélecteur qui est l'oid de l'objet. 
</p><p><b>Exemple&#160;:</b> 
</p>
<pre>
GET http://localhost:8080/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000000285DAE')
Response: 200 OK
{
   &quot;$baseUrl&quot;:&quot;http://localhost:8080/sdata/l1000/gentiers/-/&quot;,
   &quot;$title&quot;:&quot;TTiers - -&quot;,
   &quot;$updated&quot;:&quot;2020-12-22T08:10:09.740Z&quot;,
   &quot;$resources&quot;:[
      {
         &quot;$url&quot;:&quot;TTiers('9D33A23CFA6A005500F6000000285DAE')&quot;,
         &quot;$title&quot;:&quot;ABI Jardin&quot;,
         &quot;$updated&quot;:&quot;2010-03-23T15:37:46.000Z&quot;,
         &quot;$etag&quot;:&quot;9D33A23CFA6A005500F6000000285DAE-000002C60000421C&quot;,
         &quot;$key&quot;:&quot;9D33A23CFA6A005500F6000000285DAE&quot;,
         &quot;$baseUrl&quot;:&quot;http://localhost:8080/sdata/l1000/GenTiers/-/&quot;,
         &quot;stamp&quot;:&quot;000002C60000421C&quot;,
         .... Attribute list ...
      }
   ]
}
</pre>
<h3> <span class="mw-headline" id="S.C3.A9lecteur_de_ressource">Sélecteur de ressource</span></h3>
<p>Un sélecteur permet de retrouver une ressource spécifique, il est possible de rechercher une ressource par clé ou clause  
</p>
<table class="wikitable">

<tr>
<th>Sélecteur
</th>
<th>Exemple
</th></tr>
<tr>
<td>Clé
</td>
<td>TTiers('9D33A23CFA6A005500F6000000285DAE')
</td></tr>
<tr>
<td>clause
</td>
<td>TTiers(code eq 'ABI 007')
</td></tr></table>
<h3> <span class="mw-headline" id="Code_de_retour_HTTP">Code de retour HTTP</span></h3>
<table class="wikitable">

<tr>
<th>Code
</th>
<th>Résultat
</th></tr>
<tr>
<td>200
</td>
<td>La ressource existe
</td></tr>
<tr>
<td>404
</td>
<td>La ressource n'existe pas
</td></tr></table>
<h3> <span class="mw-headline" id="Gestion_des_r.C3.B4les_dans_les_ressources">Gestion des rôles dans les ressources</span></h3>
<p>La gestion des rôles de la ressource dépend du type et de la nature du rôle&#160;:
</p>
<table class="wikitable">

<tr>
<th>Type de rôle
</th>
<th>Nature
</th>
<th>Retour
</th></tr>
<tr>
<td>Référence,Liste
</td>
<td>Composition
</td>
<td>Les ressources composants sont retournées dans le corps de la ressource composée
</td></tr>
<tr>
<td>Référence
</td>
<td> -
</td>
<td>La ressource référencée est retournée par référence dans le corps de la ressource
</td></tr>
<tr>
<td>Liste
</td>
<td> -
</td>
<td>Les ressources ne sont pas retournées. Pour obtenir ces ressources, il faut faire une requête sur la classe référencée filtrée sur la référence réciproque.
</td></tr>
<tr>
<td>Association
</td>
<td>Avec suppression en cascade
</td>
<td>Les ressources associées sont considérées comme des composants et retournées dans le corps de la ressource composée.
</td></tr>
<tr>
<td>Association
</td>
<td> -
</td>
<td>Les ressources ne sont pas retournées. Pour obtenir ces ressources, il faut faire une requête sur la classe associée filtrée sur la classe d'association
</td></tr></table>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Utilisez une vue pour retourner directement les attributs liés par des références, voir le paramètre select
</td></tr></table>
</div>
<h3> <span class="mw-headline" id="Gestion_du_p.C3.A9rim.C3.A8tre_soci.C3.A9t.C3.A9">Gestion du périmètre société</span></h3>
<p>Par défaut, les requêtes s'exécutent dans le contexte société défini dans le jeton d'authentification.
</p><p>Vous pouvez définir le contexte société dans le l'url de la requête&#160;:
</p>
<pre>
  METHOD https://host/sdata/society/package/class ...
</pre>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Définir le contexte société dans l'url n'est utilisable que sur une base supportant le multi-société. Pour connaitre le statut multi-société, utilisez la requête $version ou bien interrogez <a href="https://frp.sage.fr/wiki1000/index.php/Utilisation_du_contr%C3%83%C2%B4leur_de_partage_(API)" title="Utilisation du contrôleur de partage (API)">le contrôleur de partage</a>
</td></tr></table>
</div>
<h2> <span class="mw-headline" id="Requ.C3.AAte_sur_les_ressources_.28GET.29">Requête sur les ressources (GET)</span></h2>
<p>Une requête sur les ressources est une requête sur une classe du modèle.
</p>
<pre>
GET http://localhost:8080/sdata/gentiers/ttiers?parameters
</pre>
<h3> <span class="mw-headline" id="Param.C3.A8tres_de_la_requ.C3.AAte">Paramètres de la requête</span></h3>
<table class="wikitable">

<tr>
<th>Paramètre
</th>
<th>valeur
</th>
<th>Usage
</th></tr>
<tr>
<td>select
</td>
<td>liste d'attributs séparés par des virgules
</td>
<td>Liste des attributs à retourner
</td></tr>
<tr>
<td>where
</td>
<td>Expression objet
</td>
<td>Filtre de la requête
</td></tr>
<tr>
<td>orderBy
</td>
<td>Attribut de tri
</td>
<td>Ordre de tri de la requête
</td></tr>
<tr>
<td>count
</td>
<td>Taille de page (*)
</td>
<td>Pagination&#160;: Taille de page
</td></tr>
<tr>
<td>startIndex
</td>
<td>Index de page
</td>
<td>Pagination par page&#160;: Numéro de page (0 première)
</td></tr>
<tr>
<td>startKey
</td>
<td>Valeur de clé ou de tri
</td>
<td>Pagination par clé&#160;: Clé de position
</td></tr>
<tr>
<td>keyDirection
</td>
<td>lt,le,gt,ge
</td>
<td>Pagination par clé&#160;: direction par rapport à startKey
</td></tr>
<tr>
<td>dateFormat
</td>
<td>noTime, locale, utc
</td>
<td>Indique le format de date retourné pour les types de données date comptable
</td></tr></table>
<p>(*) Il existe une limite par défaut si la valeur de count n'est pas précisée.
</p><p>Les valeurs passées en paramètre doivent être encodées en HTML 
</p><p>Exemple&#160;:
</p>
<pre>where=code eq 'ABI 007'
</pre>
<p>doit être encodée en&#160;:
</p>
<pre>where=code%20eq%20%27ABI%20007%27
</pre>
<h4> <span class="mw-headline" id="Select">Select</span></h4>
<p>Select permet de définir les attributs à retourner, par défaut tous les attributs non vide sont retournés
</p>
<pre>
GET http://localhost:8080/sdata/gentiers/ttiers?select=code,caption
</pre>
<p>La présence du paramètre select conditionne la façon d'exécuter la requête.
</p><p>Les formats possibles sont&#160;:
</p>
<table class="wikitable">

<tr>
<th>format
</th>
<th>Usage
</th>
<th>Génère l'utilisation d'une vue
</th></tr>
<tr>
<td>x
</td>
<td>Attribut x de la ressource
</td>
<td>non
</td></tr>
<tr>
<td>x.y
</td>
<td>Attribut y de la ressource lié par de référence x (jointure exacte)
</td>
<td>oui
</td></tr>
<tr>
<td>x.+y
</td>
<td>Attribut y de la ressource lié par de référence x (jointure externe)
</td>
<td>oui
</td></tr>
<tr>
<td>x as y
</td>
<td>Attribut y de la ressource retourné sous l'alias x
</td>
<td>oui
</td></tr>
<tr>
<td>x as ope(y)
</td>
<td>Opération sur l'attribut y de la ressource retourné sous l'alias x
</td>
<td>oui
</td></tr>
<tr>
<td>x as ope(y;z)
</td>
<td>Opération sur les attributs y et z de la ressource retourné sous l'alias x
</td>
<td>oui
</td></tr></table>
<p>Une vue sera utilisée si au moins un des membres de select nécessite l'utilisation d'une vue.
</p><p>Pour les opérateurs utilisables consultez <a href="Vue_locale_(langage).html" title="Vue locale (langage)">la page sur les vues locales</a>
</p><p>Notes&#160;:
</p>
<ul><li> La sélection d'attribut référencé non défini peut générer l'absence de ressources dans le résultat, pour éviter ceci utilisez un spécificateur de jointure externe.
</li><li> La sélection d'attribut référencé par un rôle liste peut générer plusieurs ressources dans le résultat correspondant à chaque ressource liée par la relation.
</li><li> La séparation des paramètres pour les opérateurs ayant plusieurs paramètres utilise le séparateur&#160;; et pas ,
</li><li> Lorsqu'une vue est utilisée, les filtres et ordre de tri sont exprimés par rapport à la vue. 
</li></ul>
<p>Par exemple&#160;: 
</p>
<ul><li> TCompteGeneral?select=codeCompte&amp;where=codeCompte ge '4'&amp;orderBy=codeCompte
</li></ul>
<p>mais
</p>
<ul><li> TCompteGeneral?select=code as codeCompte&amp;where=code ge '4'&amp;orderBy=code
</li></ul>
<h4> <span class="mw-headline" id="Dates_comptables">Dates comptables</span></h4>
<p>Le paramètre dateFormat permet de définir le format des dates comptables retournées par l'API
</p>
<table class="wikitable">

<tr>
<th>Version API
</th>
<th>dateFormat
</th>
<th>Exemple
</th>
<th>Format
</th>
<th>Représente
</th>
<th>Temps UTC
</th></tr>
<tr>
<td>1.6
</td>
<td>
</td>
<td>2021-05-31T22:00:00Z
</td>
<td>Format UTC
</td>
<td>Un instant heure universelle
</td>
<td>Le 31 Mai 2021 à 22 heure
</td></tr>
<tr>
<td>1.7
</td>
<td>
</td>
<td>2021-06-01T00:00:00+02
</td>
<td>Format UTC
</td>
<td>Un instant heure universelle
</td>
<td>Le 31 Mai 2021 à 22 heure
</td></tr>
<tr>
<td>1.7
</td>
<td>locale
</td>
<td>2021-06-01T00:00:00
</td>
<td>Format heure locale
</td>
<td>Un instant heure locale
</td>
<td>
</td></tr>
<tr>
<td>1.7
</td>
<td>noTime
</td>
<td>2021-06-01
</td>
<td>Format date locale
</td>
<td>Une date locale
</td>
<td>
</td></tr>
<tr>
<td>1.7
</td>
<td>UTC
</td>
<td>2021-05-31T22:00:00Z
</td>
<td>Format heure UTC
</td>
<td>Un instant heure universelle
</td>
<td>Le 31 Mai 2021 à 22 heure
</td></tr></table>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#FBE19F;font-size:100%;">
<table style="background-color:#FBE19F">
<tr>
<td><a href="Fichier%253AExclam-20px.png.html" class="image"><img alt="Exclam-20px.png" src="../images/e/e2/Exclam-20px.png" width="20" height="20" /></a>
</td>
<td><b>Attention&#160;:</b> Pour les dates comptables, les formats UTC sont ambigus et peuvent générer des erreurs de conversion si les fuseaux horaire du serveur et du client sont différents
</td></tr></table>
</div>
<h4> <span class="mw-headline" id="Filtre">Filtre</span></h4>
<p><b>Opérateurs:</b>
</p>
<table class="wikitable">

<tr>
<th>opérateur
</th>
<th>équivalence
</th>
<th>exemple
</th>
<th>encoded
</th></tr>
<tr>
<td>eq
</td>
<td>=
</td>
<td>where=code eq 'ABI 007'
</td>
<td>where=code%20eq%20%27ABI%20007%27
</td></tr>
<tr>
<td>ne
</td>
<td>&lt;&gt;
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>lt
</td>
<td>&lt;
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>le
</td>
<td>&lt;=
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>gt
</td>
<td>&gt;
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>ge
</td>
<td>&gt;=
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td>like
</td>
<td>like
</td>
<td>where=code like 'ABI&#160;%'
</td>
<td>where=code%20like%20%27ABI&#160;%25%27
</td></tr>
<tr>
<td>in
</td>
<td>in
</td>
<td>
</td>
<td>
</td></tr></table>
<p><b>Valeurs des paramètres:</b>
</p><p>Les valeurs des paramètres sont passées en littérale
</p>
<table class="wikitable">

<tr>
<th>Type de donnée
</th>
<th>exemple
</th></tr>
<tr>
<td>Chaîne
</td>
<td>code eq 'xxx'
</td></tr>
<tr>
<td>boolean
</td>
<td>flag eq true
</td></tr>
<tr>
<td>numérique
</td>
<td>value eq 1
</td></tr>
<tr>
<td>flottant
</td>
<td>value eq 1.0
</td></tr>
<tr>
<td>date (voir format)
</td>
<td>$updated &gt; '2019-12-31T23:00:00Z'
</td></tr>
<tr>
<td>enum (par index)
</td>
<td>value eq 1
</td></tr>
<tr>
<td>enum (par constant)
</td>
<td>value eq sens_credit
</td></tr></table>
<p>Format des paramètres date&#160;:
</p>
<table class="wikitable">

<tr>
<th>format
</th>
<th>décodage
</th>
<th>Exemple (1 jan. 2020 France)
</th></tr>
<tr>
<td>AAAA-MM-DDTHH:MM:SS.MMMZ
</td>
<td>ISO-8601 UTC
</td>
<td>2019-12-31T23:00:00Z
</td></tr>
<tr>
<td>AAAA-MM-DDTHH:MM:SS.MMM+OFFSET
</td>
<td>ISO-8601 avec timezone
</td>
<td>2019-12-31T23:00:00+1
</td></tr>
<tr>
<td>AAAA-MM-DDTHH:MM:SS.MMM
</td>
<td>ISO-8601 sans timezone
</td>
<td>2020-01-01T00:00:00
</td></tr>
<tr>
<td>AAA-MM-DD
</td>
<td>Date au format ISO-8601
</td>
<td>2020-01-01
</td></tr>
<tr>
<td>DD/MM/AAAA
</td>
<td>Date au format local
</td>
<td>01/01/2020
</td></tr></table>
<h4> <span class="mw-headline" id="Ordre_de_tri">Ordre de tri</span></h4>
<p>Tri ascendant&#160;:
</p>
<pre>orderby=code
</pre>
<p>Tri descendant&#160;:
</p>
<pre>orderby=code%20desc
</pre>
<pre>
GET http://localhost:8080/sdata/gentiers/ttiers?orderBy=code%20desc
</pre>
<h4> <span class="mw-headline" id="Pagination_par_page">Pagination par page</span></h4>
<p>Utiliser orderBy, count et startIndex
</p>
<pre>
GET http://localhost:8080/sdata/gentiers/ttiers?select=code&amp;orderby=code&amp;count=10&amp;startIndex=0
GET http://localhost:8080/sdata/gentiers/ttiers?select=code&amp;orderby=code&amp;count=10&amp;startIndex=10
GET http://localhost:8080/sdata/gentiers/ttiers?select=code&amp;orderby=code&amp;count=10&amp;startIndex=20
  ...
</pre>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Incrémentez startIndex du nombre de ressource retourné par la requête
</td></tr></table>
</div>
<h4> <span class="mw-headline" id="Pagination_par_cl.C3.A9">Pagination par clé</span></h4>
<p>Utiliser orderBy, startKey et keyDirection
</p>
<pre>
GET http://localhost:8080/sdata/gentiers/ttiers?select=code&amp;orderby=code&amp;count=10&amp;startKey=1B28EFFFF1C3000200F6000000230893&amp;keyDirection=lt
</pre>
<h2> <span class="mw-headline" id="Cr.C3.A9ation_de_ressource_.28POST.29">Création de ressource (POST)</span></h2>
<pre>
POST http://localhost:8080/sdata/gentiers/ttiers
Request:
{
   &quot;code&quot;:&quot;SYFRE1&quot;,
   &quot;caption&quot;:&quot;syfre 1&quot;,
   &quot;sitesList&quot;:[
      {
         &quot;code&quot;:&quot;SITE1&quot;,
         &quot;caption&quot;:&quot;site1 de syfre1&quot;,
         &quot;adresse&quot;:{
            &quot;nomRueVoie&quot;:&quot;rue de la pompe&quot;,
            &quot;ville&quot;:&quot;Clichy&quot;,
            &quot;codePostal&quot;:&quot;92100&quot;,
            &quot;pays&quot;:{
               &quot;$key&quot;:&quot;9D33A23CFA6A005500150000001700FD&quot;
            }
         }
      }
   ]
}
Response: 200 OK
{
    &quot;$resources&quot;: [
        {
            &quot;$key&quot;: &quot;9D33A23CFA6A005500F6000001E20022&quot;,
            &quot;$url&quot;: &quot;http://localhost:8080/sdata/l1000/gentiers/-/TTiers('9D33A23CFA6A005500F6000001E20022')&quot;,
            ... attribute list ...
        } 
     ]
}
</pre>
<h3> <span class="mw-headline" id="Gestion_du_p.C3.A9rim.C3.A8tre_de_partage">Gestion du périmètre de partage</span></h3>
<p>Le niveau de partage d'une ressource de niveau activité peut être contrôlé par des propriétés de contrôle au niveau de la définition de la ressource&#160;: 
</p>
<table class="wikitable">

<tr>
<th>Contrôle
</th>
<th>Usage
</th></tr>
<tr>
<td>$shareId
</td>
<td>Valeur du périmètre sur lequel créer l'objet
</td></tr>
<tr>
<td>$shareLevel
</td>
<td>Niveau de partage sur lequel créer l'objet (0:dossier,1:activité ou 2:société)
</td></tr></table>
<pre>
POST https://localhost/sdata/S3/gentiers/ttiers
Request:
{
   &quot;$shareLevel&quot;:2,
   &quot;code&quot;:&quot;SYFRES3-2&quot;,
   &quot;caption&quot;:&quot;syfre S3-2&quot;,
   &quot;sitesList&quot;:[
      {
         &quot;code&quot;:&quot;SITE1&quot;,
         &quot;caption&quot;:&quot;site 1&quot;,
         &quot;adresse&quot;:{
            &quot;nomRueVoie&quot;:&quot;rue de la pompe&quot;,
            &quot;ville&quot;:&quot;Clichy&quot;,
            &quot;codePostal&quot;:&quot;92100&quot;,
            &quot;pays&quot;:{
               &quot;$key&quot;:&quot;9D33A23CFA6A005500150000001700FD&quot;
            }
         }
      }
   ]
}
Response&#160;: 201 OK
</pre>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Par défaut la ressource sera créée au niveau activité
</td></tr></table>
</div>
<h3> <span class="mw-headline" id="Gestion_des_r.C3.B4les">Gestion des rôles</span></h3>
<p>La création de ressource dans les rôles dépend de la nature du rôle.
</p>
<ul><li> Pour les rôles de type composition les ressources liées sont créés simultanément.
</li><li> Pour les rôles qui ne sont pas des compositions les ressources liées sont rattachés.
</li></ul>
<p><b>Identification des références</b>
</p><p><b>Par clé:</b>
</p>
<pre>
{
  &quot;pays&quot;:{
    &quot;$key&quot;:&quot;9D33A23CFA6A005500150000001700FD&quot;
  }
}
</pre>
<p><b>Par uri:</b>
</p>
<pre>
{
  &quot;pays&quot;:{
    &quot;$url&quot;:TPays(&quot;9D33A23CFA6A005500150000001700FD&quot;)
  }
}
</pre>
<p><b>Par expression:</b>
</p>
<pre>
{
  &quot;pays&quot;:{
    &quot;$where&quot;:&quot;codeISO = 'FRA'&quot;,
    &quot;$orderby&quot;:&quot;codeISO&quot;
  }
}
</pre>
<p>Lorsqu'une expression est utilisée la première ressource retournée par l'expression est utilisée.
</p>
<h3> <span class="mw-headline" id="Gestion_des_dates_comptables">Gestion des dates comptables</span></h3>
<p>Pour les dates comptables, le serveur convertit la date reçu en heure locale puis conserve la partie date.
</p>
<table class="wikitable">

<tr>
<th>Format
</th>
<th>Représente
</th>
<th>Exemple
</th>
<th>Interprète
</th></tr>
<tr>
<td>locale
</td>
<td>Une heure locale
</td>
<td>2021-06-01T00:00:00
</td>
<td>Conserve l’heure reçue en heure locale et conserve la date, la date sera toujours celle transmise.
</td></tr>
<tr>
<td>noTime
</td>
<td>Une date sans heure
</td>
<td>2021-06-01
</td>
<td>Conserve la date reçue sans conversion, la date sera toujours celle transmise.
</td></tr>
<tr>
<td>UTC
</td>
<td>Un instant universel UTC
</td>
<td>2021-05-31T22:00:00Z
<p>2021-05-31T22:00:00+02
</p>
</td>
<td>Convertit l’heure UTC en heure locale du service et conserve la date reçue, la date peut être différente de la date transmise si le client et le service ne sont pas dans le même fuseau horaire.
</td></tr></table>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#FBE19F;font-size:100%;">
<table style="background-color:#FBE19F">
<tr>
<td><a href="Fichier%253AExclam-20px.png.html" class="image"><img alt="Exclam-20px.png" src="../images/e/e2/Exclam-20px.png" width="20" height="20" /></a>
</td>
<td><b>Attention&#160;:</b> Pour les dates comptables, les formats UTC sont ambigus et peuvent générer des erreurs de conversion si les fuseaux horaire du serveur et du client sont différents
</td></tr></table>
</div>
<h2> <span class="mw-headline" id="Modification_de_ressource_.28PUT.29">Modification de ressource (PUT)</span></h2>
<pre>
PUT http://localhost:8080/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000001E20018')
Request:
{
&quot;codeSIRET&quot;:&quot;12345678&quot;
}
Response: 200 OK
[
{ 
.... resource modified ...
}
]
</pre>
<h3> <span class="mw-headline" id="Modification_de_r.C3.B4le_liste_composition">Modification de rôle liste composition</span></h3>
<p>Par défaut les rôles composition sont gérés en remplacement, pour contrôler le mode de gestion des rôles utilisez un élément de contrôle "$" pour le rôle&#160;:
</p><p><b>Exemple&#160;: Modification du rôle par remplacement des composants&#160;:</b>
</p>
<pre>
PUT http://localhost:8080/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000001E20018')
Request&#160;:
{
   &quot;sitesList&quot;:[
      {
         &quot;code&quot;:&quot;SITE3&quot;,
         &quot;caption&quot;:&quot;site3 de syfre1&quot;,
         &quot;adresse&quot;:{
            &quot;nomRueVoie&quot;:&quot;rue Mogador&quot;,
            &quot;ville&quot;:&quot;Paris&quot;,
            &quot;codePostal&quot;:&quot;75008&quot;,
            &quot;pays&quot;:{
               &quot;$where&quot;:&quot;codeISO = 'FRA'&quot;,
               &quot;$orderby&quot;:&quot;codeISO&quot;
            }
         }
      }
   ]
}
Response: 200 OK
{
    &quot;$resources&quot;: [
        {
            &quot;$key&quot;: &quot;9D33A23CFA6A005500F6000001E30019&quot;,
            &quot;$url&quot;: &quot;/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000001E30019')&quot;,
            &quot;stamp&quot;: &quot;000001710000002A&quot;,
            ....
            &quot;sitesList&quot;: [
            ... Site3 has been added, other sites has been removed.
            ... There is one site left in the list
           ]
    ]
}
</pre>
<p><b>Exemple&#160;: Modification du rôle par ajout de composant&#160;:</b>
</p>
<pre>
PUT http://localhost:8080/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000001E20018')
Request&#160;:
{
   &quot;$&quot;:{
     &quot;sitesList:[&quot;create&quot;]
   },
   &quot;sitesList&quot;:[
      {
         &quot;code&quot;:&quot;SITE3&quot;,
         &quot;caption&quot;:&quot;site3 de syfre1&quot;,
         &quot;adresse&quot;:{
            &quot;nomRueVoie&quot;:&quot;rue Mogador&quot;,
            &quot;ville&quot;:&quot;Paris&quot;,
            &quot;codePostal&quot;:&quot;75008&quot;,
            &quot;pays&quot;:{
               &quot;$where&quot;:&quot;codeISO = 'FRA'&quot;,
               &quot;$orderby&quot;:&quot;codeISO&quot;
            }
         }
      }
   ]
}
Response: 200 OK
{
    &quot;$resources&quot;: [
        {
            &quot;$key&quot;: &quot;9D33A23CFA6A005500F6000001E30019&quot;,
            &quot;$url&quot;: &quot;/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000001E30019')&quot;,
            &quot;stamp&quot;: &quot;000001710000002A&quot;,
            ....
            &quot;sitesList&quot;: [
                ... Site3 has been added, other sites are not affected
                ... There is one site more in the list
            }
           ]
    ]
}
</pre>
<p><b>Exemple&#160;: Modification du rôle par mise à jour de composant&#160;:</b>
</p>
<pre>
PUT http://localhost:8080/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000001E20018')
Request&#160;:
{
   &quot;$&quot;:{
     &quot;sitesList:[&quot;update&quot;]
   },
   &quot;sitesList&quot;:[
      {
         &quot;$key&quot;:&quot;9D33A23CFA6A005500F6000001E30019&quot;, 
         &quot;caption&quot;:&quot;Site maj&quot;,
      }
   ]
}
</pre>
<p><br />
</p>
<table class="wikitable">

<tr>
<th>contrôle
</th>
<th>action
</th></tr>
<tr>
<td>create
</td>
<td>Les nouvelles ressources sont ajoutées au rôle
</td></tr>
<tr>
<td>update
</td>
<td>Les ressources existantes dans le rôle sont mise à jour
</td></tr>
<tr>
<td>delete
</td>
<td>Les ressources existantes et non présentes dans la requête sont supprimées
</td></tr></table>
<p>La valeur par défaut est "create","update","delete"
</p>
<h3> <span class="mw-headline" id="Modification_des_attributs_priv.C3.A9s">Modification des attributs privés</span></h3>
<p>Par défaut les attributs privés sont modifiés sur le niveau de partage correspondant au périmètre société, pour contrôler le niveau de partage des attributs privés utilisez un élément de contrôle $sharePrivateLevel.
</p>
<table class="wikitable">

<tr>
<th>sharePrivateLevel
</th>
<th>Périmètre de définition
</th></tr>
<tr>
<td>absent
</td>
<td>Périmètre courant de l'objet
</td></tr>
<tr>
<td>0
</td>
<td>Dossier
</td></tr>
<tr>
<td>1
</td>
<td>Activité
</td></tr>
<tr>
<td>2
</td>
<td>Société
</td></tr></table>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Le périmètre courant de l'objet dépend de l'état de l'objet. Par exemple, si l'objet est de niveau activité et n'a pas de propriété défini pour la société courante, le périmètre courant sera l'activité, mais si l'objet a des propriétés définies pour la société courante alors le périmètre courant sera la société. Ne pas définir explicitement le niveau de partage peut amener à des ambiguïtés.
</td></tr></table>
</div>
<p><b>Modification de la valeur de l'attribut privé pour les sociétés de l'activité du Tiers (le tiers n'a pas de propriété défini pour la société S3):</b>
</p>
<pre>
PUT http://localhost:8080/sdata/S3/gentiers/ttiers(code eq 'ABI 00007')
{
&quot;modeReglementDecaissement&quot;:{&quot;$where&quot;:&quot;code eq 'CHQ'&quot;},
}
</pre> 
<p><br />
<b>Modification de la valeur de l'attribut privé pour la société S3&#160;:</b>
</p>
<pre>
PUT http://localhost:8080/sdata/S3/gentiers/ttiers(code eq 'ABI 00007')
{
&quot;$sharePrivateLevel&quot;:2,
&quot;modeReglementDecaissement&quot;:{&quot;$where&quot;:&quot;code eq 'CBB'&quot;},
}
</pre>
<h2> <span class="mw-headline" id="Suppression_de_ressource_.28DELETE.29">Suppression de ressource (DELETE)</span></h2>
<pre>
DELETE http://localhost:8080/sdata/gentiers/ttiers('9D33A23CFA6A005500F6000001E20018')
Response: 200 OK
</pre>
<h2> <span class="mw-headline" id="Op.C3.A9ration_sur_une_ressource_.28POST.29">Opération sur une ressource (POST)</span></h2>
<p>Les opérations des ressources correspondent aux méthodes publiques de cette ressource.
</p>
<h3> <span class="mw-headline" id="M.C3.A9thode_d.27instance_de_ressource">Méthode d'instance de ressource</span></h3>
<pre>
POST http://localhost:8080/sdata/testsyfrewf/wfclassea('B5A28A92EB0C00020010000000DB0006')/testmethode
Request:
{
&quot;pString&quot;:&quot;value1&quot;,
&quot;pInteger&quot;:1,
&quot;pFloat&quot;:1.2,
&quot;pEnum&quot;:1,
&quot;pBoolean&quot;:false
}

Response: 200 OK
{
    &quot;result&quot;: &quot;pString:value1 pInteger:1 pBoolean:false pFloat:1,2 pEnum:1&quot;
}
</pre>
<h3> <span class="mw-headline" id="M.C3.A9thode_de_classe_de_ressource.2C_ou_m.C3.A9thode_de_classe_non_persistante">Méthode de classe de ressource, ou méthode de classe non persistante</span></h3>
<pre>
POST http://localhost:8080/sdata/testsyfrewf/myProcessus/testmethode
Request:
{
&quot;pString&quot;:&quot;value1&quot;,
&quot;pInteger&quot;:1,
&quot;pFloat&quot;:1.2,
&quot;pEnum&quot;:1,
&quot;pBoolean&quot;:false
}

Response: 200 OK
{
    &quot;result&quot;: &quot;pString:value1 pInteger:1 pBoolean:false pFloat:1,2 pEnum:1&quot;
}
</pre>
<h3> <span class="mw-headline" id="Passage_des_param.C3.A8tres">Passage des paramètres</span></h3>
<p>Les paramètres sont passés par nom et valeur.
</p><p>Les types de paramètres et de retour supportés sont&#160;:
</p>
<table class="wikitable">

<tr>
<th>Type
</th>
<th>Exemple
</th></tr>
<tr>
<td>Chaîne
</td>
<td>"p":"xxx"
</td></tr>
<tr>
<td>Entier
</td>
<td>"p":1
</td></tr>
<tr>
<td>Boolean
</td>
<td>"p":true
</td></tr>
<tr>
<td>Flottant
</td>
<td>"p":1.1
</td></tr>
<tr>
<td>Datetime
</td>
<td>"p":"2020-12-25T01:01:01"
</td></tr>
<tr>
<td>Enuméré (par valeur)
</td>
<td>"p":1
</td></tr>
<tr>
<td>Liste d'objets
</td>
<td>"p":[ {$key:"key", $uuid:"uuid", $where:"expression"}, ...],
</td></tr></table>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Les références des objets passés dans des listes peuvent être définies par clé ($key), identifiant appelant ($uuid) ou expression ($where)
<p>Exemple&#160;:
</p>
<pre>
{
&quot;paramList&quot;:[
    {&quot;$key&quot;:&quot;B5A28A92EB0C00020010000001F500A1&quot;},
    {&quot;$where&quot;:&quot;uneChaine like 'cN%'&quot;}
    ]
}
</pre>
</td></tr></table>
</div>
<h3> <span class="mw-headline" id="R.C3.A9sultat_de_type_ressource">Résultat de type ressource</span></h3>
<p>Lorsque l'opération retourne un objet ou une liste d'objets ceux-ci sont retournés sous forme de ressource.
</p><p>Par exemple&#160;:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="delphi source-delphi" style="font-family:monospace;"><pre class="de1"><span class="co1">//class Function GetWFClasseA(const iCode:string):WFClasseA;</span>
<span class="kw1">begin</span>
  Result <span class="sy1">:</span><span class="sy3">=</span> WFClasseA<span class="sy1">.</span><span class="me1">Find</span><span class="br0">&#40;</span><span class="st0">'(unCode =&#160;%1)'</span><span class="sy1">,</span><span class="st0">'unCode'</span><span class="sy1">,</span><span class="kw2">True</span><span class="sy1">,</span><span class="br0">&#91;</span>iCode<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy1">;</span>
<span class="kw1">end</span><span class="sy1">;</span></pre></div></div>
<pre>
POST http://localhost:8080/sdata/testsyfrewf/testapi/getwfclassea
{
    &quot;result&quot;: {
        &quot;$baseUrl&quot;: &quot;http://localhost:8080/sdata/testsyfrewf/&quot;,
        &quot;$title&quot;: &quot;WFClasseA - -&quot;,
        &quot;$updated&quot;: &quot;2021-01-29T12:41:41.015Z&quot;,
        &quot;$resources&quot;: [
            {
                &quot;$key&quot;: &quot;B5A28A92EB0C00020010000001B40002&quot;,
                &quot;$etag&quot;: &quot;B5A28A92EB0C00020010000001B40002-0000028E00000001&quot;,
                &quot;stamp&quot;: &quot;0000028E00000001&quot;,
                &quot;Caption&quot;: &quot;Title 1&quot;,
                &quot;unBool&quot;: false,
                &quot;unCode&quot;: &quot;A1&quot;,
                &quot;unCompteur&quot;: {
                    &quot;value&quot;: &quot;aaaaaaaaaaky&quot;,
                    &quot;CounterName&quot;: &quot;MonCompteur&quot;
                },
                &quot;unDouble&quot;: 0,
                &quot;uneChaine&quot;: &quot;une chaine 1&quot;,
                &quot;unEntier&quot;: 10,
                &quot;unEtat&quot;: {
                    &quot;value&quot;: 1,
                    &quot;title&quot;: &quot;Etat 1&quot;
                },
                &quot;unStatus&quot;: 0,
                &quot;WFClasseCList&quot;: [
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C000200140000020E000A&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-1&quot;,
                        &quot;unEntier&quot;: 0
                    },
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C000200140000020E000B&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-0&quot;,
                        &quot;unEntier&quot;: 0
                    },
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C00020014000002100079&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-0&quot;,
                        &quot;unEntier&quot;: 0
                    },
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C0002001400000210007A&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-1&quot;,
                        &quot;unEntier&quot;: 0
                    }
                ]
            }
        ]
    }
}
</pre>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="delphi source-delphi" style="font-family:monospace;"><pre class="de1"><span class="co1">//Class Function GetWFClasseA(const iCodeLike:string):WFClasseAList;</span>
<span class="kw1">begin</span>
 Result <span class="sy1">:</span><span class="sy3">=</span> WFClasseA<span class="sy1">.</span><span class="me1">CreateListWhere</span><span class="br0">&#40;</span><span class="st0">'(unCode like&#160;%1)'</span><span class="sy1">,</span><span class="st0">''</span><span class="sy1">,</span><span class="st0">'unCode'</span><span class="sy1">,</span><span class="kw2">True</span><span class="sy1">,</span><span class="sy3">-</span>1<span class="sy1">,</span><span class="br0">&#91;</span>iCodeLike<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy1">;</span>
<span class="kw1">end</span><span class="sy1">;</span></pre></div></div>
<pre>

POST http://localhost:8080/sdata/testsyfrewf/testapi/getwfclassealist
{
    &quot;result&quot;: {
        &quot;$baseUrl&quot;: &quot;http://localhost:8080/sdata/testsyfrewf/&quot;,
        &quot;$title&quot;: &quot;WFClasseA - -&quot;,
        &quot;$updated&quot;: &quot;2021-01-29T12:49:14.061Z&quot;,
        &quot;$resources&quot;: [
            {
                &quot;$key&quot;: &quot;B5A28A92EB0C00020010000001B40002&quot;,
                &quot;$etag&quot;: &quot;B5A28A92EB0C00020010000001B40002-0000028E00000001&quot;,
                &quot;stamp&quot;: &quot;0000028E00000001&quot;,
                &quot;Caption&quot;: &quot;Title 1&quot;,
                &quot;unBool&quot;: false,
                &quot;unCode&quot;: &quot;A1&quot;,
                &quot;unCompteur&quot;: {
                    &quot;value&quot;: &quot;aaaaaaaaaaky&quot;,
                    &quot;CounterName&quot;: &quot;MonCompteur&quot;
                },
                &quot;unDouble&quot;: 0,
                &quot;uneChaine&quot;: &quot;une chaine 1&quot;,
                &quot;unEntier&quot;: 10,
                &quot;unEtat&quot;: {
                    &quot;value&quot;: 1,
                    &quot;title&quot;: &quot;Etat 1&quot;
                },
                &quot;unStatus&quot;: 0,
                &quot;WFClasseCList&quot;: [
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C000200140000020E000A&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-1&quot;,
                        &quot;unEntier&quot;: 0
                    },
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C000200140000020E000B&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-0&quot;,
                        &quot;unEntier&quot;: 0
                    },
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C00020014000002100079&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-0&quot;,
                        &quot;unEntier&quot;: 0
                    },
                    {
                        &quot;$key&quot;: &quot;B5A28A92EB0C0002001400000210007A&quot;,
                        &quot;uneChaine&quot;: &quot;Title 1-1&quot;,
                        &quot;unEntier&quot;: 0
                    }
                ]
            },
            {
                &quot;$key&quot;: &quot;B5A28A92EB0C00020010000001B4000E&quot;,
                &quot;$etag&quot;: &quot;B5A28A92EB0C00020010000001B4000E-0000025000000025&quot;,
                &quot;stamp&quot;: &quot;0000025000000025&quot;,
                &quot;Caption&quot;: &quot;Title 1&quot;,
                &quot;unBool&quot;: false,
                &quot;unCode&quot;: &quot;A1&quot;,
                &quot;unCompteur&quot;: {
                    &quot;value&quot;: &quot;aaaaaaaaaalb&quot;,
                    &quot;CounterName&quot;: &quot;MonCompteur&quot;
                },
                &quot;unDouble&quot;: 0,
                &quot;uneChaine&quot;: &quot;U1&quot;,
                &quot;unEntier&quot;: 10,
                &quot;unEtat&quot;: {
                    &quot;value&quot;: 2,
                    &quot;title&quot;: &quot;Etat 2&quot;
                },
                &quot;unStatus&quot;: 0
            },
            {
                &quot;$key&quot;: &quot;B5A28A92EB0C00020010000001B4001A&quot;,
                &quot;$etag&quot;: &quot;B5A28A92EB0C00020010000001B4001A-0000018B0000001A&quot;,
                &quot;stamp&quot;: &quot;0000018B0000001A&quot;,
                &quot;Caption&quot;: &quot;Title 1&quot;,
                &quot;unBool&quot;: false,
                &quot;unCode&quot;: &quot;A1&quot;,
                &quot;unCompteur&quot;: {
                    &quot;value&quot;: &quot;aaaaaaaaaale&quot;,
                    &quot;CounterName&quot;: &quot;MonCompteur&quot;
                },
                &quot;unDouble&quot;: 0,
                &quot;uneChaine&quot;: &quot;U1&quot;,
                &quot;unEntier&quot;: 10,
                &quot;unEtat&quot;: {
                    &quot;value&quot;: 0,
                    &quot;title&quot;: &quot;Initial&quot;
                },
                &quot;unStatus&quot;: 0
            },
            ......
        ]
    }
}
</pre>
<h3> <span class="mw-headline" id="Initialisation_de_la_ressource">Initialisation de la ressource</span></h3>
<p>Il est possible d'initialiser la ressource avant d'exécuter la méthode, par exemple pour un processus&#160;:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="delphi source-delphi" style="font-family:monospace;"><pre class="de1"><span class="kw1">Type</span>
  TmyProcessus <span class="sy3">=</span> <span class="kw1">class</span>
  <span class="kw1">public</span>
   <span class="kw1">procedure</span> Execute<span class="br0">&#40;</span>p<span class="sy1">:</span><span class="kw4">string</span><span class="br0">&#41;</span><span class="sy1">;</span>
   <span class="kw1">property</span> attString<span class="sy1">:</span><span class="kw4">string</span><span class="sy1">;</span>
   <span class="kw1">property</span> attInt<span class="sy1">:</span><span class="kw4">Integer</span><span class="sy1">;</span>
   <span class="kw1">property</span> attRef<span class="sy1">:</span>TRefClass<span class="sy1">;</span>
  <span class="kw1">end</span><span class="sy1">;</span></pre></div></div>
<pre>
POST http://localhost:8080/sdata/testsyfrewf/myProcessus/execute
Request:
{
&quot;$resource&quot;:{
 &quot;attString&quot;:&quot;value 1&quot;,
 &quot;attInt&quot;:100,
 &quot;attRef&quot;:{&quot;$url&quot;:&quot;TRefClass('xxx')&quot;},
},
&quot;p&quot;:&quot;value&quot;,
}
Response: 200 OK
{
    &quot;result&quot;:&quot;&quot;
}
</pre>
<h2> <span class="mw-headline" id="Requ.C3.AAte_Batch_.28POST_.24batch.29">Requête Batch (POST $batch)</span></h2>
<p>Une requête Batch permet de réaliser plusieurs opérations de type GET,POST/PUT/DELETE/EXEC en une seule fois.
</p><p>Une requête Batch contient un tableau de ressources, pour chaque ressource l'action et l'uri doivent être précisées&#160;:
</p>
<pre>
POST http://.../sdata/$batch
{
   &quot;$resources&quot;:[
      {
         &quot;$httpMethod&quot;:&quot;POST&quot;,
         &quot;$url&quot;:&quot;gentiers/ttiers&quot;,
         &quot;code&quot;:&quot;SYFRE2&quot;,
         &quot;caption&quot;:&quot;syfre 2&quot;,
         &quot;sitesList&quot;:[
            {
               &quot;code&quot;:&quot;SITE1&quot;,
               &quot;caption&quot;:&quot;site2 de syfre2&quot;,
               &quot;adresse&quot;:{
                  &quot;nomRueVoie&quot;:&quot;rue de la pompe&quot;,
                  &quot;ville&quot;:&quot;Clichy&quot;,
                  &quot;codePostal&quot;:&quot;92100&quot;,
                  &quot;pays&quot;:{
                     &quot;$where&quot;:&quot;codeISO = 'FRA'&quot;,
                     &quot;$orderby&quot;:&quot;codeISO&quot;
                  }
               }
            }
         ]
      }
   ]
}
</pre>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Le format d'url complet de $Batch est <a rel="nofollow" class="external free" href="https://hostname/service/server/sdata/l1000/-/-/$batch">https://hostname/service/server/sdata/l1000/-/-/$batch</a>
</td></tr></table>
</div>
<h3> <span class="mw-headline" id="Gestion_de_la_transaction_dans_un_batch">Gestion de la transaction dans un batch</span></h3>
<p>Par défaut les opérations réalisées sont unitaires (une transaction par ressource).
</p><p>Pour réaliser une opération Batch atomique (une seule transaction longue) utilisez un élément de contrôle transaction&#160;:
</p><p>Lorsque l'opération est atomique la réponse contient un élément $batch indiquant le statut de l'opération.
</p><p>Le code de retour http est le code de retour de la dernière opération réalisée.
</p>
<pre>
POST http://localhost:8080/sdata/$batch
{
   &quot;$&quot;: {&quot;$transaction&quot;:[&quot;atomic&quot;]},
   &quot;$resources&quot;:[
      {
         &quot;$httpMethod&quot;:&quot;PUT&quot;,
         &quot;$url&quot;:&quot;gentiers/ttiers('9D33A23CFA6A005500F6000000285DAE')&quot;,
         &quot;$uuid&quot;:&quot;1&quot;,
         &quot;capital&quot;:{&quot;value&quot;:7200,&quot;CodeDevise&quot;:&quot;USD&quot;}
      },
      {
         &quot;$httpMethod&quot;:&quot;PUT&quot;,
         &quot;$url&quot;:&quot;gentiers/ttiers('9D33A23CFA6A005500F600000023048C')&quot;,
         &quot;$uuid&quot;:&quot;2&quot;,
         &quot;capital&quot;:{&quot;value&quot;:1000,&quot;CodeDevise&quot;:&quot;EUR&quot;}
      }
   ]
}
Response&#160;: 401
{
    &quot;$baseUrl&quot;: &quot;http://localhost:8080/sdata/l1000/-/-/&quot;,
    &quot;$title&quot;: &quot;$batch - -&quot;,
    &quot;$resources&quot;: [
        {
            &quot;$httpStatus&quot;: 200,
            &quot;$httpMethod&quot;: &quot;PUT&quot;,
            &quot;$httpMessage&quot;: &quot;OK&quot;,
            &quot;$etag&quot;: &quot;9D33A23CFA6A005500F6000000285DAE-0000018C00000001&quot;
        },
        {
            &quot;$httpStatus&quot;: 410,
            &quot;$httpMessage&quot;: &quot;Already Deleted&quot;,
            &quot;$uuid&quot;: &quot;2&quot;,
            &quot;$url&quot;: &quot;gentiers/ttiers('9D33A23CFA6A005500F600000023048C')&quot;,
            &quot;$&quot;: {
                &quot;$diagnoses&quot;: [
                    {
                        &quot;severity&quot;: &quot;error&quot;,
                        &quot;message&quot;: &quot;Already Deleted&quot;,
                        &quot;sdataCode&quot;: &quot;ApplicationDiagnosis&quot;
                    }
                ]
            }
        }
    ],
    &quot;$batch&quot;: {
        &quot;$httpStatus&quot;: 400,
        &quot;$httpMessage&quot;: &quot;ROLLBACK&quot;,
        &quot;$&quot;: {
            &quot;$diagnoses&quot;: [
                {
                    &quot;severity&quot;: &quot;error&quot;,
                    &quot;message&quot;: &quot;Already Deleted&quot;,
                    &quot;sdataCode&quot;: &quot;ApplicationDiagnosis&quot;,
                    &quot;entry&quot;: {
                        &quot;number&quot;: 2,
                        &quot;uuid&quot;: &quot;2&quot;
                    }
                }
            ]
        }
    }
}
</pre>
<p><b>$transaction&#160;:</b>
</p>
<table class="wikitable">

<tr>
<th>Commande
</th>
<th>Action
</th></tr>
<tr>
<td>atomic
</td>
<td>Démarre une transaction longue
</td></tr>
<tr>
<td>flush
</td>
<td>Force un batch de la transaction longue
</td></tr>
<tr>
<td>commit
</td>
<td>Valide la transaction longue
</td></tr></table>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> L'élément de contrôle de transaction peut être placé au niveau d'un ordre du lot.
</td></tr></table>
</div>
<h3> <span class="mw-headline" id="Execution_de_m.C3.A9thode_dans_un_batch">Execution de méthode dans un batch</span></h3>
<p>Utiliser le verbe EXEC pour exécuter une méthode 
</p>
<pre>
POST http://localhost:8080/sdata/$batch
{
   &quot;$resources&quot;:[
      {
         &quot;$httpMethod&quot;:&quot;EXEC&quot;,
         &quot;$url&quot;:&quot;testsyfrewf/wfprocessus/testmethod&quot;,
         &quot;$resource&quot;:{
            &quot;uneChaine&quot;:&quot;value 1&quot;
         },
         &quot;p&quot;:&quot;value 2&quot;
      }
   ]
}
Response&#160;: 200 OK
{
    &quot;$baseUrl&quot;: &quot;http://localhost:8080/sdata/l1000/-/-/&quot;,
    &quot;$title&quot;: &quot;$batch - -&quot;,
    &quot;$resources&quot;: [
        {
            &quot;$httpStatus&quot;: 200,
            &quot;$httpMethod&quot;: &quot;POST&quot;,
            &quot;$httpMessage&quot;: &quot;Executed&quot;,
            &quot;$url&quot;: &quot;testsyfrewf/wfprocessus/testmethod&quot;,
            &quot;$uuid&quot;: &quot;&quot;,
            &quot;result&quot;: &quot;value 1 value 2&quot;
        }
    ]
}
</pre>
<h2> <span class="mw-headline" id="Sch.C3.A9ma_d.27une_ressource_.28GET_.24schema.29">Schéma d'une ressource (GET $schema)</span></h2>
<p>Le schéma d'une ressource retourne la structure de la classe.
</p>
<pre>
GET http://localhost:8080/sdata/testsyfrewf/wfclassea/$schema
Response&#160;: 200 OK
{
    &quot;title&quot;: &quot;Libellé de la Classe A&quot;,
    &quot;stereotype&quot;: &quot;persistent&quot;,
    &quot;properties&quot;: {
        &quot;unBool&quot;: {
            &quot;type&quot;: &quot;boolean&quot;,
            &quot;title&quot;: &quot;Un Bool&quot;
        },
        &quot;unCode&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;title&quot;: &quot;Un code&quot;
        },
        &quot;unCompteur&quot;: {
            &quot;type&quot;: &quot;string&quot;
        },
        &quot;unDerive&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;title&quot;: &quot;Un dérivé&quot;
        },
        &quot;unDouble&quot;: {
            &quot;type&quot;: &quot;double&quot;,
            &quot;title&quot;: &quot;Un double&quot;
        },
        &quot;uneChaine&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;title&quot;: &quot;une chaine&quot;
        },
        &quot;unEmail&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;title&quot;: &quot;Un email&quot;
        },
        &quot;unEntier&quot;: {
            &quot;type&quot;: &quot;int&quot;,
            &quot;title&quot;: &quot;Un Entier&quot;
        },
        &quot;unEtat&quot;: {
            &quot;type&quot;: &quot;integer&quot;,
            &quot;title&quot;: &quot;Un Etat&quot;
        },
        &quot;unStatus&quot;: {
            &quot;type&quot;: &quot;int&quot;,
            &quot;title&quot;: &quot;Statut de l'objet (Panel)&quot;
        },
        &quot;WFClasseBRef&quot;: {
            &quot;type&quot;: {
                &quot;$ref&quot;: &quot;http://localhost:8080/sdata/l1000/testsyfrewf/-/WFClasseB/$schema&quot;,
                &quot;$relationship&quot;: &quot;reference&quot;
            },
            &quot;title&quot;: &quot;Référence B&quot;
        },
        &quot;WFClasseCList&quot;: {
            &quot;type&quot;: &quot;array&quot;,
            &quot;item&quot;: {
                &quot;title&quot;: &quot;Classe C&quot;,
                &quot;properties&quot;: {
                    &quot;uneChaine&quot;: {
                        &quot;type&quot;: &quot;string&quot;,
                        &quot;title&quot;: &quot;une chaine&quot;
                    },
                    &quot;unEntier&quot;: {
                        &quot;type&quot;: &quot;int&quot;,
                        &quot;title&quot;: &quot;un entier&quot;
                    }
                }
            }
        }
    },
    &quot;$url&quot;: &quot;http://localhost:8080/sdata/l1000/testsyfrewf/-/WFClasseA/$schema&quot;
}
</pre>
<p>Le contenu de la réponse peut être configurée avec le paramètre "select", à défaut toutes les informations sont retournées.
</p>
<table class="wikitable">

<tr>
<th>Paramètre
</th>
<th>Usage
</th></tr>
<tr>
<td>extensions
</td>
<td>Retourne uniquement les attributs issus d'extension
</td></tr>
<tr>
<td>properties
</td>
<td>Retourne la liste de tous les attributs
</td></tr>
<tr>
<td>selfProperties
</td>
<td>Retourne uniquement les attributs de la classe elle même
</td></tr>
<tr>
<td>operations
</td>
<td>Retourne les opérations de la classe
</td></tr>
<tr>
<td>compositions
</td>
<td>Retourne le schéma des classes composants
</td></tr></table>
<p>Exemple&#160;: Retrouver uniquement les attributs d'extension d'une classe&#160;:
</p>
<pre>
GET http://localhost:8080/sdata/ttiers/$schema?select=extensions
{
    &quot;title&quot;: &quot;Tiers&quot;,
    &quot;stereotype&quot;: &quot;persistent&quot;,
    &quot;extensions&quot;: [
        {
            &quot;class&quot;: &quot;TTiers_esmPackage&quot;,
            &quot;title&quot;: &quot;Extension de TTiers&quot;,
            &quot;package&quot;: &quot;esmPackage&quot;
        }
    ],
    &quot;properties&quot;: {
        &quot;esmCode&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;extension&quot;: &quot;TTiers_esmPackage&quot;,
            &quot;title&quot;: &quot;un code esm&quot;
        }
    },
    &quot;$url&quot;: &quot;http://localhost:8080/sdata/gentiers/TTiers/$schema&quot;
}
</pre>
<h2> <span class="mw-headline" id="Mod.C3.A8le_de_ressource_.28GET_.24template.29">Modèle de ressource (GET $template)</span></h2>
<p>Le modèle de ressource retourne une ressource initialisée
</p>
<pre>
GET http://localhost:8080/sdata/gcimport/TImportContratCommercial/$template
Response&#160;: 200 OK

{
    &quot;$url&quot;: &quot;http://localhost:8080/sdata/l1000/gcimport/-/TImportContratCommercial&quot;,
    &quot;stamp&quot;: &quot;000001D900000001&quot;,
    &quot;acompte&quot;: 0,
    &quot;affaire&quot;: &quot;&quot;,
    &quot;budget&quot;: &quot;&quot;,
    &quot;Caption&quot;: &quot;&quot;,
    &quot;commandeEngagement&quot;: false,
    &quot;commercial&quot;: &quot;&quot;,
    &quot;coursDevise&quot;: {
        &quot;value&quot;: 1,
        &quot;CodeDevise&quot;: &quot;&quot;,
        &quot;Date&quot;: &quot;1899-12-30T00:00:00.000Z&quot;,
        &quot;TCConv&quot;: &quot;&quot;,
        &quot;TCValue&quot;: 0,
        &quot;RPConv&quot;: &quot;&quot;,
        &quot;RPValue&quot;: 0
    },
    &quot;coursNegocie&quot;: false,
    &quot;dateCommande&quot;: &quot;1899-12-30T00:00:00.000Z&quot;,
    &quot;dateLivraison&quot;: &quot;1899-12-30T00:00:00.000Z&quot;,
    &quot;devise&quot;: &quot;&quot;,
    &quot;donneeEDI1&quot;: &quot;&quot;,
    &quot;donneeEDI2&quot;: &quot;&quot;,
    &quot;donneeEDI3&quot;: &quot;&quot;,
    &quot;donneeEDI4&quot;: &quot;&quot;,
    &quot;donneeEDI5&quot;: &quot;&quot;,
    &quot;echeancement&quot;: &quot;&quot;,
    &quot;etablissement&quot;: &quot;&quot;,
    &quot;exonereTaxe&quot;: &quot;&quot;,
    &quot;exonereTVA&quot;: &quot;&quot;,
    &quot;gestionTransport&quot;: {
        &quot;value&quot;: 0,
        &quot;title&quot;: &quot;Automatique&quot;
    },
    &quot;immobilisation&quot;: {
        &quot;value&quot;: 0,
        &quot;title&quot;: &quot;B&amp;S&quot;
    },
    &quot;ImportCCDetailList&quot;: [],
    &quot;importeGMAO&quot;: false,
    &quot;importerRemisePied&quot;: false,
    &quot;ImportSiteAdresse&quot;: {},
    &quot;incoterm&quot;: &quot;&quot;,
    &quot;MentionExonerationTVA&quot;: &quot;&quot;,
    &quot;posteBudgetaire&quot;: &quot;&quot;,
    &quot;pourcentAcompte&quot;: {
        &quot;value&quot;: 0,
        &quot;Decimales&quot;: 2
    },
    &quot;pourcentRemisePied&quot;: {
        &quot;value&quot;: 0,
        &quot;Decimales&quot;: 2
    },
    &quot;reference&quot;: &quot;&quot;,
    &quot;referenceMandat&quot;: &quot;&quot;,
    &quot;regimeTVA&quot;: &quot;&quot;,
    &quot;roleTiers&quot;: &quot;&quot;,
    &quot;roleTiersLivre&quot;: &quot;&quot;,
    &quot;SessionImportation&quot;: {},
    &quot;typeFacturation&quot;: {
        &quot;value&quot;: 0,
        &quot;title&quot;: &quot;HT&quot;
    }
}
</pre>
<p>Voir aussi&#160;:
</p>
<ul><li> <a href="SData.html" title="SData">Point d'accès et url SData</a>
</li><li> <a href="Gestion_des_jetons_d'authentification_(Administration).html" title="Gestion des jetons d'authentification (Administration)">Gestion des jetons d'authentification</a>
</li></ul>
<p>Voir aussi les exemples suivants&#160;: 
</p>
<ul><li> <a href="https://frp.sage.fr/wiki1000/index.php/Utilisation_du_contr%C3%83%C2%B4leur_de_partage_(API)" title="Utilisation du contrôleur de partage (API)">Utilisation du contrôleur de partage</a>
</li><li> <a href="https://frp.sage.fr/wiki1000/index.php/Interrogation_des_%C3%83%C2%A9critures_(API)" title="Interrogation des écritures (API)">Interrogation des écritures avec l'API SData</a>
</li><li> <a href="Interrogation_des_fournisseurs_(API).html" title="Interrogation des fournisseurs (API)">Interrogation des fournisseurs avec l'API SData</a>
</li><li> <a href="Creation_d'un_fournisseur_(API).html" title="Creation d'un fournisseur (API)">Création d'un fournisseur avec l'API SData</a>
</li><li> <a href="Import_de_commandes_(API).html" title="Import de commandes (API)">Import de commandes avec l'API SData</a>
</li><li> <a href="https://frp.sage.fr/wiki1000/index.php/Import_d'%C3%83%C2%A9critures_(API)" title="Import d'écritures (API)">Import d'écritures avec l'API SData</a>
</li><li> <a href="https://frp.sage.fr/wiki1000/index.php/Gestion_des_r%C3%83%C2%A9ceptions_fournisseurs_(API)" title="Gestion des réceptions fournisseurs (API)">Gestion des réceptions fournisseurs avec l'API SData</a>
</li><li> <a href="Facturation_d'un_bon_de_livraison_(API).html" title="Facturation d'un bon de livraison (API)">Facturation d'un bon de livraison avec l'API SData</a>
</li><li> <a href="Creation_d'un_Tiers_et_son_compte_bancaire_(API).html" title="Creation d'un Tiers et son compte bancaire (API)">Creation_d'un Tiers et son compte bancaire (API)</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 570/1000000
Post-expand include size: 4050/2097152 bytes
Template argument size: 1636/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki1000dbtahoe-l1000_:pcache:idhash:6159-0!*!0!!fr!2!* and timestamp 20240729130026 -->
<br /><br /><br /><br /><table class="whos_here" width="100%" cellpadding="0" cellspacing="0"><tr>
                        <td width="100%" class="whos_here_header">
                        <a href="Special%253AAWCforum/whoshere.html"><i>Whos here now:</i></a>  
                        &nbsp; <b>Members</b> 0
                        &nbsp; <b>Guests</b> 1
                        &nbsp; <b>Bots & Crawlers</b>  0
                        </td>
         </tr><tr><td class="whos_here_row"> &nbsp;   </td></tr></table></div><div class="printfooter">
Récupérée de « <a href="https://frp.sage.fr/wiki1000/index.php?title=Ressource_(sdata)&amp;oldid=14102">https://frp.sage.fr/wiki1000/index.php?title=Ressource_(sdata)&amp;oldid=14102</a> »</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Cat%C3%83%C2%A9gories" title="Spécial:Catégories">Catégorie</a> : <ul><li><a href="https://frp.sage.fr/wiki1000/index.php/Cat%C3%83%C2%A9gorie:SData" title="Catégorie:SData">SData</a></li></ul></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Affichages</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="Ressource_(sdata).html" title="Voir la page de contenu [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="https://frp.sage.fr/wiki1000/index.php?title=Discussion:Ressource_(sdata)&amp;action=edit&amp;redlink=1" title="Discussion au sujet de cette page de contenu [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="https://frp.sage.fr/wiki1000/index.php?title=Ressource_(sdata)&amp;action=edit" title="Cette page est protégée.&#10;Vous pouvez toutefois en visualiser la source. [e]" accesskey="e">Voir le texte source</a></li>
				<li id="ca-history"><a href="https://frp.sage.fr/wiki1000/index.php?title=Ressource_(sdata)&amp;action=history" title="Les versions passées de cette page (avec leurs contributeurs) [h]" accesskey="h">Historique</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Outils personnels</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://frp.sage.fr/wiki1000/index.php?title=Sp%C3%83%C2%A9cial:Connexion&amp;returnto=Ressource+(sdata)" title="Vous êtes encouragé(e) à vous identifier ; ce n'est cependant pas obligatoire. [o]" accesskey="o">Connexion</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a title="Page principale" style="background-image: url(../medias/images/stock/wiki-1000.png);" href="Main_Page.html"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="Main_Page.html" title="Visiter la page d'accueil du site [z]" accesskey="z">Main Page</a></li>
				<li id="n-recentchanges"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Modifications_r%C3%83%C2%A9centes" title="Liste des modifications récentes sur le wiki [r]" accesskey="r">Modifications récentes</a></li>
				<li id="n-help"><a href="https://frp.sage.fr/wiki1000/index.php/Aide:Accueil" title="Aide">Aide</a></li>
				<li id="n-Guide-de-r.C3.A9daction"><a href="https://frp.sage.fr/wiki1000/index.php/Guide_de_r%C3%83%C2%A9daction_(wiki)">Guide de rédaction</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-Th.C3.A8mes">
		<h5>Thèmes</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Administration"><a href="https://frp.sage.fr/wiki1000/index.php/Cat%C3%83%C2%A9gorie:Administration">Administration</a></li>
				<li id="n-D.C3.A9veloppement"><a href="https://frp.sage.fr/wiki1000/index.php/D%C3%83%C2%A9veloppement_DSM">Développement</a></li>
				<li id="n-Didactitiels"><a href="https://frp.sage.fr/wiki1000/index.php/Cat%C3%83%C2%A9gorie:Video">Didactitiels</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Rechercher</label></h5>
		<div id="searchBody" class="pBody">
			<form action="https://frp.sage.fr/wiki1000/index.php" id="searchform">
				<input type='hidden' name="title" value="Spécial:Recherche"/>
				<input type="search" name="search" title="Rechercher dans Wiki1000 [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Lire" title="Aller vers une page portant exactement ce nom si elle existe." id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Rechercher" title="Rechercher les pages comportant ce texte." id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Boîte à outils</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Pages_li%C3%83%C2%A9es/Ressource_(sdata)" title="Liste des pages liées à celle-ci [j]" accesskey="j">Pages liées</a></li>
				<li id="t-recentchangeslinked"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Suivi_des_liens/Ressource_(sdata)" title="Liste des modifications récentes des pages liées à celle-ci [k]" accesskey="k">Suivi des pages liées</a></li>
				<li id="t-specialpages"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Pages_sp%C3%83%C2%A9ciales" title="Liste de toutes les pages spéciales [q]" accesskey="q">Pages spéciales</a></li>
				<li><a href="https://frp.sage.fr/wiki1000/index.php?title=Ressource_(sdata)&amp;printable=yes" rel="alternate">Version imprimable</a></li>
				<li id="t-permalink"><a href="https://frp.sage.fr/wiki1000/index.php?title=Ressource_(sdata)&amp;oldid=14102" title="Lien permanent vers cette version de la page">Adresse de cette version</a></li>
<li id="t-pdf"><a href="https://frp.sage.fr/wiki1000/index.php?title=Sp%C3%83%C2%A9cial:Pdfprint&amp;page=Ressource_(sdata)">Imprimer en PDF</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> Dernière modification de cette page le 9 novembre 2021 à 11:14.<br /></li>
		<li id="viewcount">Cette page a été consultée 17 159 fois.</li>
		<li id="privacy"><a href="https://frp.sage.fr/wiki1000/index.php/Wiki1000:Confidentialit%C3%83%C2%A9" title="Wiki1000:Confidentialité">Politique de confidentialité</a></li>
		<li id="about"><a href="https://frp.sage.fr/wiki1000/index.php/Wiki1000:%C3%83%E2%82%AC_propos" title="Wiki1000:À propos">À propos de Wiki1000</a></li>
		<li id="disclaimer"><a href="https://frp.sage.fr/wiki1000/index.php/Wiki1000:Avertissements_g%C3%83%C2%A9n%C3%83%C2%A9raux" title="Wiki1000:Avertissements généraux">Avertissements</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
	mw.loader.load(["mediawiki.user", "mediawiki.util", "mediawiki.page.ready", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
}
</script>
<style type="text/css">.poll_display_table {
 
border: 1px solid #aaa;
    
    padding: 1px;
 
} 
.poll_displayheader {
 
border-bottom: 1px dashed #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
 
} 
.poll_display_row {
 
border-bottom: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 2px;
 
} 
.poll_display_vote_total {
 
border-top: 1px solid #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
 
} 
.poll_display_vote_numbers_header {
 
border: 1px solid #aaa;
border-bottom: 0;
 
} 
.poll_display_vote_percent_header {
 
border-top: 1px solid #aaa;
    padding: 1px;
 
} 
.poll_display_vote_option_header {
 
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
 
} 
.poll_display_vote_numbers {
 
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
 
} 
.poll_display_vote_percent {
 
border-top: 1px solid #aaa;
    padding: 1px;
 
} 
.poll_display_vote_option {
 
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
 
} 
.poll_percent_color_op10 {
 background-color: #7FFF00; 
} 
.poll_percent_color_op1 {
 background-color: #CD5555; 
} 
.poll_percent_color_op2 {
 background-color: #5CACEE; 
} 
.poll_percent_color_op3 {
 background-color: #FFCC11; 
} 
.poll_percent_color_op4 {
 background-color: #668014; 
} 
.poll_percent_color_op5 {
 background-color: #A0522D; 
} 
.poll_percent_color_op6 {
 background-color: #9F79EE; 
} 
.poll_percent_color_op7 {
 background-color: #EE00EE; 
} 
.poll_percent_color_op8 {
 background-color: #DC143C; 
} 
.poll_percent_color_op9 {
 background-color: #551011; 
} 
.whos_here_header {
 
border-bottom: 1px dashed #aaa;
            padding: 4px;
            font-family:"Courier New", Courier, mono;
 
} 
.whos_here_row {
 
border-bottom: 1px solid #aaa;
            background-color: #f9f9f9;
            padding: 2px;
 
} 
.whos_here {
 
border: 1px solid #aaa;
            border-bottom: 0;
 
} 
.pagejumps_PostOnForumPage {
 
border: 1px solid #aaa;
    margin-left: 3px;
    font-size: 100%;
    padding-left: 3px;
    padding-right: 3px;
    padding-bottom: 0px;
 
} 

 .nothing {font-size: 0%;
                                margin: .0em;
                                border: 0;
                                margin: 0;
                                padding: 0;
                                width: 0;}
</style>

<script src="../load.php@debug=false&amp;lang=fr&amp;modules=site&amp;only=scripts&amp;skin=monobook&amp;%252A"></script>
<script>if(window.mw){
	mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,
	"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"searchNs121707":true,"variant":"fr","language":"fr","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":false,"searchNs101":false,"searchNs102":false,"searchNs103":false,"searchNs104":false,"searchNs105":false,"searchNs106":false,"searchNs107":false,"searchNs108":false,"searchNs109":false,"searchNs110":false,"searchNs111":false});;mw.user.tokens.set({"editToken":"+\\","watchToken":false});;mw.loader.state({"user.options":"ready","user.tokens":"ready"});
	
	/* cache key: wiki1000dbtahoe-l1000_:resourceloader:filter:minify-js:4:2d7b56d44af11e7e6a0c631677f449b0 */
}
</script><!-- Served in 0.220 secs. --><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'8aad473e2f1a6554',t:'MTcyMjI1Nzg4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body></html>