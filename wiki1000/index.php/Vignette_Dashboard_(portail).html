<!DOCTYPE html>
<html lang="fr" dir="ltr" class="client-nojs">
<head>
<title>Vignette JSON/HTML (portail) - Wiki1000</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.18.6" />
<link rel="canonical" href="Vignette_JSON/HTML_(portail).html" />
<link rel="shortcut icon" href="https://frp.sage.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="Wiki1000 (fr)" />
<link rel="EditURI" type="application/rsd+xml" href="https://frp.sage.fr/wiki1000/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Flux Atom de Wiki1000" href="https://frp.sage.fr/wiki1000/index.php?title=Sp%C3%83%C2%A9cial:Modifications_r%C3%83%C2%A9centes&amp;feed=atom" />
<link rel="stylesheet" href="../load.php@debug=false&amp;lang=fr&amp;modules=mediawiki.legacy.commonPrint,shared%257Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;%252A.css" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki1000/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../load.php@debug=false&amp;lang=fr&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;%252A.css" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: wiki1000dbtahoe-l1000_:resourceloader:filter:minify-css:4:c88e2bcd56513749bec09a7e29cb3ffa */
</style>
<script src="../load.php@debug=false&amp;lang=fr&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;%252A"></script>
<script>if(window.mw){
	mw.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Vignette_JSON/HTML_(portail)", "wgTitle": "Vignette JSON/HTML (portail)", "wgCurRevisionId": 13072, "wgArticleId": 3369, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": ["Portail"], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script><script>if(window.mw){
	mw.loader.load(["mediawiki.page.startup"]);
}
</script>
<style type="text/css">/*<![CDATA[*/
.source-javascript {line-height: normal;}
.source-javascript li, .source-javascript pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for javascript
 * CSS class: source-javascript, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.javascript.source-javascript .de1, .javascript.source-javascript .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.javascript.source-javascript  {font-family:monospace;}
.javascript.source-javascript .imp {font-weight: bold; color: red;}
.javascript.source-javascript li, .javascript.source-javascript .li1 {font-weight: normal; vertical-align:top;}
.javascript.source-javascript .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.javascript.source-javascript .li2 {font-weight: bold; vertical-align:top;}
.javascript.source-javascript .kw1 {color: #000066; font-weight: bold;}
.javascript.source-javascript .kw2 {color: #003366; font-weight: bold;}
.javascript.source-javascript .kw3 {color: #000066;}
.javascript.source-javascript .co1 {color: #006600; font-style: italic;}
.javascript.source-javascript .co2 {color: #009966; font-style: italic;}
.javascript.source-javascript .coMULTI {color: #006600; font-style: italic;}
.javascript.source-javascript .es0 {color: #000099; font-weight: bold;}
.javascript.source-javascript .br0 {color: #009900;}
.javascript.source-javascript .sy0 {color: #339933;}
.javascript.source-javascript .st0 {color: #3366CC;}
.javascript.source-javascript .nu0 {color: #CC0000;}
.javascript.source-javascript .me1 {color: #660066;}
.javascript.source-javascript .ln-xtra, .javascript.source-javascript li.ln-xtra, .javascript.source-javascript div.ln-xtra {background-color: #ffc;}
.javascript.source-javascript span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "https://frp.sage.fr/wiki1000/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
/*]]>*/
</style></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Vignette_JSON_HTML_portail action-view skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">Vignette JSON/HTML (portail)</h1>
	<div id="bodyContent">
		<div id="siteSub">De Wiki1000</div>
		<div id="contentSub">(Redirigé depuis <a href="../index.php@title=Vignette_Dashboard_(portail)&amp;redirect=no.html" title="Vignette Dashboard (portail)">Vignette Dashboard (portail)</a>)</div>
		<div id="jump-to-nav">Aller à : <a href="Vignette_Dashboard_(portail).html#column-one">Navigation</a>, <a href="Vignette_Dashboard_(portail).html#searchInput">rechercher</a></div>
		<!-- start content -->
<div lang="fr" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Sommaire</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Vignette_Dashboard_(portail).html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Vignette_Dashboard_(portail).html#Adresse_de_la_page_locale_HTML"><span class="tocnumber">2</span> <span class="toctext">Adresse de la page locale HTML</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Vignette_Dashboard_(portail).html#Source_de_donn.C3.A9es_JSON"><span class="tocnumber">3</span> <span class="toctext">Source de données JSON</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Vignette_Dashboard_(portail).html#S.C3.A9lections"><span class="tocnumber">4</span> <span class="toctext">Sélections</span></a></li>
</ul>
</td></tr></table>
<h3> <span class="mw-headline" id="Introduction">Introduction</span></h3>
<p>Les vignettes JSON / HTML (Dashboard) sont des vignettes permettant de créer des contenus HTML riches utilisant des sources de données.
</p><p>Typiquement vous utiliserez ces vignettes pour réaliser des tableaux de bords présentant les données de façon synthétique aux utilisateurs.
</p>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Une vignette Dashboard combine une <a href="https://frp.sage.fr/wiki1000/index.php/Vignette_JSON_Source_de_donn%C3%83%C2%A9es_(portail)" title="Vignette JSON Source de données (portail)">vignette JSON Source de données</a> et une <a href="Vignette_JSON_rendu_(portail).html" title="Vignette JSON rendu (portail)">Vignette JSON Rendu</a>
</td></tr></table>
</div>
<p>L'application Sage 1000 est livrée avec un exemple de vignette Dashboard.
</p><p>Cette exemple utilise les APIs Google pour présenter les données.
</p><p><a href="Fichier%253AVignette-sdata-1.png.html" class="image"><img alt="Vignette-sdata-1.png" src="../images/9/98/Vignette-sdata-1.png" width="1211" height="523" /></a>
</p>
<h3> <span class="mw-headline" id="Adresse_de_la_page_locale_HTML">Adresse de la page locale HTML</span></h3>
<p>Les vignettes Dashboard utilisent une page HTML décrivant le contenu de la vignette. Cette page doit être accessible par le serveur HTTP. 
</p>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Utilisez la variable (ROOT) pour référencer le répertoire de base du site.
</td></tr></table>
</div>
<p>Dans cet exemple la vignette utilise la page exemple livrée avec l'application.
</p><p>Placer les pages HTML des vignettes Dashboard dans le site est une solution simple mais qui peut poser à terme des problèmes de déploiement. Vous pouvez insérer ces pages comme objets du référentiel puis y faire référence via un service rest du Service 1000.
</p>
<pre> (ROOT)/server/rpc.l1000/html/url.blob?uri=obj://TdbmObject/Name/&lt;nom de la page dans le référentiel&gt;/dbmobjectbinary.value
</pre>
<p>Par exemple&#160;:
</p>
<pre> (ROOT)/server/rpc.l1000/html/url.blob?uri=obj://TdbmObject/Name/widget-immo-cumuldotationparcompte.html/dbmobjectbinary.value
</pre>
<h3> <span class="mw-headline" id="Source_de_donn.C3.A9es_JSON">Source de données JSON</span></h3>
<p>Les vignettes Dashboard utilisent des sources de données pour récupérer les données à afficher. Dans cet exemple, on utilise un fichier statique JSON contenant les données. 
</p><p>Les données seront injectées dans une variable "data" contenu sur l'élément iFrame contenant la vignette. Elles sont ensuite récupérées par le code JavaScript contenu dans la fonction render() de la page.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1">	<span class="kw2">function</span> render<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
		<span class="kw2">var</span> data <span class="sy0">=</span> <span class="kw2">null</span><span class="sy0">;</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>window.<span class="me1">parent</span> <span class="sy0">&amp;&amp;</span> window.<span class="me1">frameElement</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
			data <span class="sy0">=</span> window.<span class="me1">parent</span>.$<span class="br0">&#40;</span>window.<span class="me1">frameElement</span><span class="br0">&#41;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">&quot;data&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="br0">&#125;</span>
        ...
        <span class="br0">&#125;</span></pre></div></div>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> window.parent.$ référence l'objet JQuery contenu dans le parent de la IFrame
</td></tr></table>
</div>
<p>Le paramétrage suivant
</p>
<pre>{"agencies":"(ROOT)/.../agencies.html"}
</pre>
<p>définit la structure de l'objet data qui sera injecté.
</p>
<div style="font-color:#535068; border:solid 1px #A8A8A8; padding:0.5em 1em 0.5em 0.7em; margin:0.5em 0em; background-color:#F9F9F9;font-size:100%;">
<table style="background-color:#F9F9F9;">
<tr>
<td><a href="Fichier%253ATip-20px.png.html" class="image"><img alt="Tip-20px.png" src="../images/5/5e/Tip-20px.png" width="20" height="20" /></a>
</td>
<td><b>Tip&#160;:</b> Ce paramétrage peut combiner plusieurs sources de données&#160;: {"agencies":"...","cities":"...", ...}
</td></tr></table>
</div>
<p>Les données sont ensuite exploitées par les objets de rendu à travers des fonctions&#160;:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1"><span class="kw2">function</span> _d_table1<span class="br0">&#40;</span>data<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// Ce code crée une structure de données pour les widgets Google</span>
		<span class="kw2">var</span> res <span class="sy0">=</span>  <span class="br0">&#123;</span>
			cols<span class="sy0">:</span> <span class="br0">&#91;</span>
				<span class="br0">&#123;</span><span class="st0">&quot;id&quot;</span><span class="sy0">:</span><span class="st0">&quot;city&quot;</span><span class="sy0">,</span><span class="st0">&quot;label&quot;</span><span class="sy0">:</span><span class="st0">&quot;Ville&quot;</span><span class="sy0">,</span><span class="st0">&quot;pattern&quot;</span><span class="sy0">:</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span><span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;string&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
                                ...
			<span class="br0">&#93;</span><span class="sy0">,</span>
			rows<span class="sy0">:</span> <span class="br0">&#91;</span><span class="br0">&#93;</span>
		<span class="br0">&#125;</span><span class="sy0">;</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>data <span class="sy0">&amp;&amp;</span> data.<span class="me1">agencies</span> <span class="sy0">&amp;&amp;</span> data.<span class="me1">agencies</span>.$resources<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			data.<span class="me1">agencies</span>.$resources.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span><span class="br0">&#40;</span>value<span class="br0">&#41;</span> <span class="br0">&#123;</span>
				<span class="kw2">var</span> r <span class="sy0">=</span> <span class="br0">&#123;</span>c<span class="sy0">:</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#125;</span><span class="sy0">;</span>
				r.<span class="me1">c</span>.<span class="me1">push</span><span class="br0">&#40;</span><span class="br0">&#123;</span>v<span class="sy0">:</span>value.<span class="me1">city</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                ...
				<span class="me1">res</span>.<span class="me1">rows</span>.<span class="me1">push</span><span class="br0">&#40;</span>r<span class="br0">&#41;</span><span class="sy0">;</span>
			<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>	
		<span class="br0">&#125;</span>
		<span class="kw1">return</span> res<span class="sy0">;</span>
	<span class="br0">&#125;</span><span class="sy0">;</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1"><span class="kw2">function</span> render<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
		window._widgets.<span class="me1">map</span><span class="br0">&#40;</span><span class="st0">&quot;map_parent&quot;</span><span class="sy0">,</span> adresses<span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>map<span class="sy0">,</span> markers<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			<span class="co2">/* map --&gt; map object*/</span>
			<span class="kw2">var</span> table1 <span class="sy0">=</span> <span class="kw2">new</span> google.<span class="me1">visualization</span>.<span class="me1">Table</span><span class="br0">&#40;</span>document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">&quot;t1&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
			<span class="kw2">var</span> tdata <span class="sy0">=</span> <span class="kw2">new</span> google.<span class="me1">visualization</span>.<span class="me1">DataTable</span><span class="br0">&#40;</span>_d_table1<span class="br0">&#40;</span>data<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
			<span class="kw2">var</span> view <span class="sy0">=</span> <span class="kw2">new</span> google.<span class="me1">visualization</span>.<span class="me1">DataView</span><span class="br0">&#40;</span>tdata<span class="br0">&#41;</span><span class="sy0">;</span>
                        ....
                <span class="br0">&#125;</span>
&#160;
<span class="br0">&#125;</span></pre></div></div>
<p>Cet exemple utilise une source de données statique mais dans la réalité vous utiliserez une source de données JSON ou SDATA.
</p><p>Une source de données se configure ainsi&#160;:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1">  <span class="br0">&#123;</span><span class="st0">&quot;nom&quot;</span><span class="sy0">:</span><span class="st0">&quot;url de la source&quot;</span><span class="sy0">,</span> ... <span class="br0">&#125;</span></pre></div></div>
<p>L'url sdata doit être relative au site, utilisez la variable (ROOT)&#160;:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1">  <span class="br0">&#123;</span><span class="st0">&quot;nom&quot;</span><span class="sy0">:</span><span class="st0">&quot;(ROOT)/sdata/...&quot;</span><span class="sy0">,</span> ... <span class="br0">&#125;</span></pre></div></div>
<p>Par exemple&#160;:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1">  <span class="br0">&#123;</span><span class="st0">&quot;comptes&quot;</span><span class="sy0">:</span><span class="st0">&quot;(ROOT)/server/sdata/-/-/-/$queries/rind_immo_dotationcompte?_pSchemaAmortissement=$encodeURIComponent(#c1.caption)$encodeURIComponent(&amp;)_pCategorieBien=$encodeURIComponent(#c2.value)&quot;</span><span class="br0">&#125;</span></pre></div></div>
<p>utilise une requête accédée via SDATA et paramétré par les sélections présentes sur la page.
</p>
<h3> <span class="mw-headline" id="S.C3.A9lections">Sélections</span></h3>
<p>Il est possible de réaliser des sélections riches à partir de données métier.
</p><p><a href="Fichier%253AVignette-sdata-3.png.html" class="image"><img alt="Vignette-sdata-3.png" src="../images/a/a3/Vignette-sdata-3.png" width="1209" height="364" /></a>
</p><p><a href="Fichier%253AVignette-sdata-2.png.html" class="image"><img alt="Vignette-sdata-2.png" src="../images/7/7d/Vignette-sdata-2.png" width="1328" height="674" /></a>
</p>
<ul><li> Sélections colonnes
</li></ul>
<dl><dd>Nombre de colonne de la bande de sélection.
</dd></dl>
<ul><li> Sélection présentation
</li></ul>
<dl><dd>Un littéral Javascript décrivant les zones de sélection.
</dd></dl>
<p>Les types de sélections possibles sont&#160;:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1"><span class="br0">&#123;</span>
   <span class="st0">&quot;c1&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;string&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;String Field&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c2&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;bool&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;Boolean Field&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c3&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;date&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;Date Field&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c4&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;number&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;decimals&quot;</span><span class="sy0">:</span><span class="nu0">3</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;Number Field&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c5&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;enum&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;Enum Field&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;values&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
         <span class="st0">&quot;0&quot;</span><span class="sy0">:</span><span class="st0">&quot;Option 1&quot;</span><span class="sy0">,</span>
         <span class="st0">&quot;1&quot;</span><span class="sy0">:</span><span class="st0">&quot;Option 2&quot;</span>
      <span class="br0">&#125;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c6&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;combo&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;lookupClass&quot;</span><span class="sy0">:</span><span class="st0">&quot;TTiers&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;lookupField&quot;</span><span class="sy0">:</span><span class="st0">&quot;code&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;Lookup Field&quot;</span>
   <span class="br0">&#125;</span>
   <span class="st0">&quot;c7&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;select&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;lookupClass&quot;</span><span class="sy0">:</span><span class="st0">&quot;TTiers&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;lookupField&quot;</span><span class="sy0">:</span><span class="st0">&quot;code&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;Select Field&quot;</span>
   <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<ul><li> Sélections data
</li></ul>
<dl><dd>Un littéral Javascript décrivant les valeurs initiales des sélections.
</dd></dl>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="javascript source-javascript" style="font-family:monospace;"><pre class="de1"><span class="br0">&#123;</span>
   <span class="st0">&quot;c1&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;value&quot;</span><span class="sy0">:</span><span class="st0">&quot;vv  vv&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;string&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c2&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;bool&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;value&quot;</span><span class="sy0">:</span><span class="kw2">true</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c3&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;date&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;value&quot;</span><span class="sy0">:</span><span class="st0">&quot;16/07/2013&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c4&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;number&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;value&quot;</span><span class="sy0">:</span><span class="st0">&quot;12636&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c5&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;enum&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;value&quot;</span><span class="sy0">:</span><span class="st0">&quot;1&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;Option 2&quot;</span>
   <span class="br0">&#125;</span><span class="sy0">,</span>
   <span class="st0">&quot;c6&quot;</span><span class="sy0">:</span><span class="br0">&#123;</span>
      <span class="st0">&quot;type&quot;</span><span class="sy0">:</span><span class="st0">&quot;combo&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;value&quot;</span><span class="sy0">:</span><span class="st0">&quot;DAC19ACF0B2100020790000002F70593&quot;</span><span class="sy0">,</span>
      <span class="st0">&quot;caption&quot;</span><span class="sy0">:</span><span class="st0">&quot;ARSENAL&quot;</span>
   <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>Une fois définit vous pouvez référencé ces sélections dans les requêtes source de données.
</p><p>Par exemple&#160;:
</p>
<pre> {"comptes":"(ROOT)/server/sdata/-/-/-/$queries/rind_immo_dotationcompte?_pSchemaAmortissement=$encodeURIComponent(#c1.caption)$encodeURIComponent(&amp;)_pCategorieBien=$encodeURIComponent(#c2.value)"}
</pre>
<p>Le bouton actualiser permet alors de rafraichir les sources de données.
</p><p>Voir aussi&#160;:
</p>
<ul><li><a href="https://frp.sage.fr/wiki1000/index.php/Vignette_JSON_Source_de_donn%C3%83%C2%A9es_(portail)" title="Vignette JSON Source de données (portail)">Vignette JSON Source de données</a>
</li><li><a href="Vignette_JSON_rendu_(portail).html" title="Vignette JSON rendu (portail)">Vignette JSON Rendu</a>
</li></ul>
<center>
<p>&#8212; <a href="https://frp.sage.fr/wiki1000/index.php/D%C3%83%C2%A9veloppement_DSM" title="Développement DSM">Développement DSM</a> &#8212; 
</p>
</center>

<!-- 
NewPP limit report
Preprocessor node count: 112/1000000
Post-expand include size: 1569/2097152 bytes
Template argument size: 432/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki1000dbtahoe-l1000_:pcache:idhash:3369-0!*!0!!fr!2!* and timestamp 20240729130642 -->
<br /><br /><br /><br /><table class="whos_here" width="100%" cellpadding="0" cellspacing="0"><tr>
                        <td width="100%" class="whos_here_header">
                        <a href="Special%253AAWCforum/whoshere.html"><i>Whos here now:</i></a>  
                        &nbsp; <b>Members</b> 0
                        &nbsp; <b>Guests</b> 1
                        &nbsp; <b>Bots & Crawlers</b>  0
                        </td>
         </tr><tr><td class="whos_here_row"> &nbsp;   </td></tr></table></div><div class="printfooter">
Récupérée de « <a href="https://frp.sage.fr/wiki1000/index.php?title=Vignette_JSON/HTML_(portail)&amp;oldid=13072">https://frp.sage.fr/wiki1000/index.php?title=Vignette_JSON/HTML_(portail)&amp;oldid=13072</a> »</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Cat%C3%83%C2%A9gories" title="Spécial:Catégories">Catégorie</a> : <ul><li><a href="https://frp.sage.fr/wiki1000/index.php/Cat%C3%83%C2%A9gorie:Portail" title="Catégorie:Portail">Portail</a></li></ul></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Affichages</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="Vignette_JSON/HTML_(portail).html" title="Voir la page de contenu [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="https://frp.sage.fr/wiki1000/index.php?title=Discussion:Vignette_JSON/HTML_(portail)&amp;action=edit&amp;redlink=1" title="Discussion au sujet de cette page de contenu [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="https://frp.sage.fr/wiki1000/index.php?title=Vignette_JSON/HTML_(portail)&amp;action=edit" title="Cette page est protégée.&#10;Vous pouvez toutefois en visualiser la source. [e]" accesskey="e">Voir le texte source</a></li>
				<li id="ca-history"><a href="https://frp.sage.fr/wiki1000/index.php?title=Vignette_JSON/HTML_(portail)&amp;action=history" title="Les versions passées de cette page (avec leurs contributeurs) [h]" accesskey="h">Historique</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Outils personnels</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://frp.sage.fr/wiki1000/index.php?title=Sp%C3%83%C2%A9cial:Connexion&amp;returnto=Vignette+Dashboard+(portail)" title="Vous êtes encouragé(e) à vous identifier ; ce n'est cependant pas obligatoire. [o]" accesskey="o">Connexion</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a title="Page principale" style="background-image: url(../medias/images/stock/wiki-1000.png);" href="Main_Page.html"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="Main_Page.html" title="Visiter la page d'accueil du site [z]" accesskey="z">Main Page</a></li>
				<li id="n-recentchanges"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Modifications_r%C3%83%C2%A9centes" title="Liste des modifications récentes sur le wiki [r]" accesskey="r">Modifications récentes</a></li>
				<li id="n-help"><a href="https://frp.sage.fr/wiki1000/index.php/Aide:Accueil" title="Aide">Aide</a></li>
				<li id="n-Guide-de-r.C3.A9daction"><a href="https://frp.sage.fr/wiki1000/index.php/Guide_de_r%C3%83%C2%A9daction_(wiki)">Guide de rédaction</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-Th.C3.A8mes">
		<h5>Thèmes</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Administration"><a href="https://frp.sage.fr/wiki1000/index.php/Cat%C3%83%C2%A9gorie:Administration">Administration</a></li>
				<li id="n-D.C3.A9veloppement"><a href="https://frp.sage.fr/wiki1000/index.php/D%C3%83%C2%A9veloppement_DSM">Développement</a></li>
				<li id="n-Didactitiels"><a href="https://frp.sage.fr/wiki1000/index.php/Cat%C3%83%C2%A9gorie:Video">Didactitiels</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Rechercher</label></h5>
		<div id="searchBody" class="pBody">
			<form action="https://frp.sage.fr/wiki1000/index.php" id="searchform">
				<input type='hidden' name="title" value="Spécial:Recherche"/>
				<input type="search" name="search" title="Rechercher dans Wiki1000 [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Lire" title="Aller vers une page portant exactement ce nom si elle existe." id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Rechercher" title="Rechercher les pages comportant ce texte." id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Boîte à outils</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Pages_li%C3%83%C2%A9es/Vignette_JSON/HTML_(portail)" title="Liste des pages liées à celle-ci [j]" accesskey="j">Pages liées</a></li>
				<li id="t-recentchangeslinked"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Suivi_des_liens/Vignette_JSON/HTML_(portail)" title="Liste des modifications récentes des pages liées à celle-ci [k]" accesskey="k">Suivi des pages liées</a></li>
				<li id="t-specialpages"><a href="https://frp.sage.fr/wiki1000/index.php/Sp%C3%83%C2%A9cial:Pages_sp%C3%83%C2%A9ciales" title="Liste de toutes les pages spéciales [q]" accesskey="q">Pages spéciales</a></li>
				<li><a href="https://frp.sage.fr/wiki1000/index.php?title=Vignette_JSON/HTML_(portail)&amp;printable=yes" rel="alternate">Version imprimable</a></li>
				<li id="t-permalink"><a href="https://frp.sage.fr/wiki1000/index.php?title=Vignette_JSON/HTML_(portail)&amp;oldid=13072" title="Lien permanent vers cette version de la page">Adresse de cette version</a></li>
<li id="t-pdf"><a href="https://frp.sage.fr/wiki1000/index.php?title=Sp%C3%83%C2%A9cial:Pdfprint&amp;page=Vignette_JSON/HTML_(portail)">Imprimer en PDF</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> Dernière modification de cette page le 30 décembre 2019 à 14:08.<br /></li>
		<li id="viewcount">Cette page a été consultée 9 738 fois.</li>
		<li id="privacy"><a href="https://frp.sage.fr/wiki1000/index.php/Wiki1000:Confidentialit%C3%83%C2%A9" title="Wiki1000:Confidentialité">Politique de confidentialité</a></li>
		<li id="about"><a href="https://frp.sage.fr/wiki1000/index.php/Wiki1000:%C3%83%E2%82%AC_propos" title="Wiki1000:À propos">À propos de Wiki1000</a></li>
		<li id="disclaimer"><a href="https://frp.sage.fr/wiki1000/index.php/Wiki1000:Avertissements_g%C3%83%C2%A9n%C3%83%C2%A9raux" title="Wiki1000:Avertissements généraux">Avertissements</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
	mw.loader.load(["mediawiki.user", "mediawiki.util", "mediawiki.page.ready", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
}
</script>
<style type="text/css">.poll_display_table {
 
border: 1px solid #aaa;
    
    padding: 1px;
 
} 
.poll_displayheader {
 
border-bottom: 1px dashed #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
 
} 
.poll_display_row {
 
border-bottom: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 2px;
 
} 
.poll_display_vote_total {
 
border-top: 1px solid #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
 
} 
.poll_display_vote_numbers_header {
 
border: 1px solid #aaa;
border-bottom: 0;
 
} 
.poll_display_vote_percent_header {
 
border-top: 1px solid #aaa;
    padding: 1px;
 
} 
.poll_display_vote_option_header {
 
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
 
} 
.poll_display_vote_numbers {
 
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
 
} 
.poll_display_vote_percent {
 
border-top: 1px solid #aaa;
    padding: 1px;
 
} 
.poll_display_vote_option {
 
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
 
} 
.poll_percent_color_op10 {
 background-color: #7FFF00; 
} 
.poll_percent_color_op1 {
 background-color: #CD5555; 
} 
.poll_percent_color_op2 {
 background-color: #5CACEE; 
} 
.poll_percent_color_op3 {
 background-color: #FFCC11; 
} 
.poll_percent_color_op4 {
 background-color: #668014; 
} 
.poll_percent_color_op5 {
 background-color: #A0522D; 
} 
.poll_percent_color_op6 {
 background-color: #9F79EE; 
} 
.poll_percent_color_op7 {
 background-color: #EE00EE; 
} 
.poll_percent_color_op8 {
 background-color: #DC143C; 
} 
.poll_percent_color_op9 {
 background-color: #551011; 
} 
.whos_here_header {
 
border-bottom: 1px dashed #aaa;
            padding: 4px;
            font-family:"Courier New", Courier, mono;
 
} 
.whos_here_row {
 
border-bottom: 1px solid #aaa;
            background-color: #f9f9f9;
            padding: 2px;
 
} 
.whos_here {
 
border: 1px solid #aaa;
            border-bottom: 0;
 
} 
.pagejumps_PostOnForumPage {
 
border: 1px solid #aaa;
    margin-left: 3px;
    font-size: 100%;
    padding-left: 3px;
    padding-right: 3px;
    padding-bottom: 0px;
 
} 

 .nothing {font-size: 0%;
                                margin: .0em;
                                border: 0;
                                margin: 0;
                                padding: 0;
                                width: 0;}
</style>

<script src="../load.php@debug=false&amp;lang=fr&amp;modules=site&amp;only=scripts&amp;skin=monobook&amp;%252A"></script>
<script>if(window.mw){
	mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,
	"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"searchNs121707":true,"variant":"fr","language":"fr","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":false,"searchNs101":false,"searchNs102":false,"searchNs103":false,"searchNs104":false,"searchNs105":false,"searchNs106":false,"searchNs107":false,"searchNs108":false,"searchNs109":false,"searchNs110":false,"searchNs111":false});;mw.user.tokens.set({"editToken":"+\\","watchToken":false});;mw.loader.state({"user.options":"ready","user.tokens":"ready"});
	
	/* cache key: wiki1000dbtahoe-l1000_:resourceloader:filter:minify-js:4:2d7b56d44af11e7e6a0c631677f449b0 */
}
</script><!-- Served in 0.127 secs. --><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'8aad506c5e6e7774',t:'MTcyMjI1ODI2MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body></html>